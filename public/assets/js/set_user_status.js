(()=>{"use strict";$("#userStatusEmoji").emojioneArea({standalone:!0,autocomplete:!1,saveEmojisAs:"shortname",pickerPosition:"right"}),$(document).on("click","#setUserStatus",(function(t){t.preventDefault();var e=$(this);e.button("loading");var s=$("#userStatusEmoji").data("emojioneArea").getText().trim(),o={emoji:emojione.shortnameToImage(s),emoji_short_name:s,status:$("#userStatus").val()};$.ajax({type:"post",url:setUserCustomStatusUrl,data:o,success:function(t){displayToastr("Success","success",t.message),e.button("reset"),$("#setCustomStatusModal").modal("hide")},error:function(t){displayToastr("Error","error",t.responseJSON.message),e.button("reset")}})})),$(document).on("click","#clearUserStatus",(function(t){t.preventDefault();var e=$(this);e.button("loading"),$.ajax({type:"get",url:clearUserCustomStatusUrl,success:function(t){$("#userStatus").val(""),$("#userStatusEmoji")[0].emojioneArea.setText(""),displayToastr("Success","success",t.message),e.button("reset"),$("#setCustomStatusModal").modal("hide")},error:function(t){displayToastr("Error","error",t.responseJSON.message),e.button("reset")}})})),""!=loggedInUserStatus&&loggedInUserStatus.hasOwnProperty("status")&&($("#userStatus").val(loggedInUserStatus.status),$("#userStatusEmoji")[0].emojioneArea.setText(loggedInUserStatus.emoji_short_name))})();