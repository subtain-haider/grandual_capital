(()=>{var e={534:()=>{"use strict";function e(e,t,a){var s;return function(){var o=this,r=arguments,n=function(){s=null,a||e.apply(o,r)},i=a&&!s;clearTimeout(s),s=setTimeout(n,t),i&&e.apply(o,r)}}$(document).on("click",".remove-group-member",(function(){var e=$(this).data("id");addedMembers=function(e,t){return e=jQuery.grep(e,(function(e){return e!=t}))}(addedMembers,e),$("#selectedGroupMembers").val(JSON.stringify(addedMembers)),$(this).parents("#modalAddGroupMembers").length&&$("#selectedGroupMembersForEdit").val(JSON.stringify(addedMembers)),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.parents(".added-members");a.find("li").length>(t?1:0)?a.find(".no-member-added").removeClass("d-none").addClass("d-none"):a.find(".no-member-added").removeClass("d-none")}($(this),1),$(this).parents(".list-group-item").remove()})),$("#searchMember").keyup(e((function(){var e=$(this).val();window.livewire.emit("searchMembers",e,addedMembers)}),500)),document.getElementById("searchMember").addEventListener("search",(function(e){var t=$(this).val();window.livewire.emit("searchMembers",t,addedMembers)})),document.getElementById("searchEditGroupMember").addEventListener("search",(function(e){var t=$(this).val();window.livewire.emit("searchEditGroupMembers",t,addedMembers)})),$("#searchEditGroupMember").keyup(e((function(){var e=$(this).val();window.livewire.emit("searchEditGroupMembers",e,addedMembers)}),500)),$(document).on("click",".add-group-member",(function(){var e,t=$(this).parents(".list-group-item"),a=$(this).data("id");addedMembers.push(a),$("#selectedGroupMembers").val(JSON.stringify(addedMembers)),$(this).parents("#modalAddGroupMembers").length&&$("#selectedGroupMembersForEdit").val(JSON.stringify(addedMembers)),function(e){var t=e.parents(".new-members").siblings(".added-members").find(".added-group-members-list");e.find(".add-group-member").text("Remove").addClass("btn-danger").addClass("remove-group-member").removeClass("add-group-member").removeClass("btn-success");var a='<li class="mb-0 list-group-item group-members-list-chat-select__list-item align-items-center d-flex justify-content-between">'+(e=e.html())+"</li>";t.prepend(a)}(t),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.parents(".new-members").siblings(".added-members");a.find("li").length>(t?1:0)?a.find(".no-member-added").removeClass("d-none").addClass("d-none"):a.find(".no-member-added").removeClass("d-none")}($(this)),(e=$(this)).parents(".group-members-list").find("li").length>1?e.parents(".group-members-list").find(".no-member-found").removeClass("d-none").addClass("d-none"):e.parents(".group-members-list").find(".no-member-found").removeClass("d-none"),$(this).parents(".list-group-item").remove()}))},238:(e,t,a)=>{const s=a(602).z,o=a(593).array;e.exports=class{constructor(e={}){Object.assign(this,{list:e.emptyList&&[]||Array.prototype.concat.apply(s,[o,e.list||[]]),exclude:e.exclude||[],placeHolder:e.placeHolder||"*",regex:e.regex||/[^a-zA-Z0-9|\$|\@]|\^/g,replaceRegex:e.replaceRegex||/\w/g})}isProfane(e){return this.list.filter((t=>{const a=new RegExp(`\\b${t.replace(/(\W)/g,"\\$1")}\\b`,"gi");return!this.exclude.includes(t.toLowerCase())&&a.test(e)})).length>0||!1}replaceWord(e){return e.replace(this.regex,"").replace(this.replaceRegex,this.placeHolder)}clean(e){return e.split(/\b/).map((e=>this.isProfane(e)?this.replaceWord(e):e)).join("")}addWords(){let e=Array.from(arguments);this.list.push(...e),e.map((e=>e.toLowerCase())).forEach((e=>{this.exclude.includes(e)&&this.exclude.splice(this.exclude.indexOf(e),1)}))}removeWords(){this.exclude.push(...Array.from(arguments).map((e=>e.toLowerCase())))}}},738:e=>{e.exports=["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","bunny fucker","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","God","god-dam","god-damned","goddamn","goddamned","hardcoresex","hell","heshe","hoar","hoare","hoer","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","muther","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx"]},593:(e,t,a)=>{e.exports={object:a(658),array:a(738),regex:a(519)}},658:e=>{e.exports={"4r5e":1,"5h1t":1,"5hit":1,a55:1,anal:1,anus:1,ar5e:1,arrse:1,arse:1,ass:1,"ass-fucker":1,asses:1,assfucker:1,assfukka:1,asshole:1,assholes:1,asswhole:1,a_s_s:1,"b!tch":1,b00bs:1,b17ch:1,b1tch:1,ballbag:1,balls:1,ballsack:1,bastard:1,beastial:1,beastiality:1,bellend:1,bestial:1,bestiality:1,"bi+ch":1,biatch:1,bitch:1,bitcher:1,bitchers:1,bitches:1,bitchin:1,bitching:1,bloody:1,"blow job":1,blowjob:1,blowjobs:1,boiolas:1,bollock:1,bollok:1,boner:1,boob:1,boobs:1,booobs:1,boooobs:1,booooobs:1,booooooobs:1,breasts:1,buceta:1,bugger:1,bum:1,"bunny fucker":1,butt:1,butthole:1,buttmuch:1,buttplug:1,c0ck:1,c0cksucker:1,"carpet muncher":1,cawk:1,chink:1,cipa:1,cl1t:1,clit:1,clitoris:1,clits:1,cnut:1,cock:1,"cock-sucker":1,cockface:1,cockhead:1,cockmunch:1,cockmuncher:1,cocks:1,cocksuck:1,cocksucked:1,cocksucker:1,cocksucking:1,cocksucks:1,cocksuka:1,cocksukka:1,cok:1,cokmuncher:1,coksucka:1,coon:1,cox:1,crap:1,cum:1,cummer:1,cumming:1,cums:1,cumshot:1,cunilingus:1,cunillingus:1,cunnilingus:1,cunt:1,cuntlick:1,cuntlicker:1,cuntlicking:1,cunts:1,cyalis:1,cyberfuc:1,cyberfuck:1,cyberfucked:1,cyberfucker:1,cyberfuckers:1,cyberfucking:1,d1ck:1,damn:1,dick:1,dickhead:1,dildo:1,dildos:1,dink:1,dinks:1,dirsa:1,dlck:1,"dog-fucker":1,doggin:1,dogging:1,donkeyribber:1,doosh:1,duche:1,dyke:1,ejaculate:1,ejaculated:1,ejaculates:1,ejaculating:1,ejaculatings:1,ejaculation:1,ejakulate:1,"f u c k":1,"f u c k e r":1,f4nny:1,fag:1,fagging:1,faggitt:1,faggot:1,faggs:1,fagot:1,fagots:1,fags:1,fanny:1,fannyflaps:1,fannyfucker:1,fanyy:1,fatass:1,fcuk:1,fcuker:1,fcuking:1,feck:1,fecker:1,felching:1,fellate:1,fellatio:1,fingerfuck:1,fingerfucked:1,fingerfucker:1,fingerfuckers:1,fingerfucking:1,fingerfucks:1,fistfuck:1,fistfucked:1,fistfucker:1,fistfuckers:1,fistfucking:1,fistfuckings:1,fistfucks:1,flange:1,fook:1,fooker:1,fuck:1,fucka:1,fucked:1,fucker:1,fuckers:1,fuckhead:1,fuckheads:1,fuckin:1,fucking:1,fuckings:1,fuckingshitmotherfucker:1,fuckme:1,fucks:1,fuckwhit:1,fuckwit:1,"fudge packer":1,fudgepacker:1,fuk:1,fuker:1,fukker:1,fukkin:1,fuks:1,fukwhit:1,fukwit:1,fux:1,fux0r:1,f_u_c_k:1,gangbang:1,gangbanged:1,gangbangs:1,gaylord:1,gaysex:1,goatse:1,God:1,"god-dam":1,"god-damned":1,goddamn:1,goddamned:1,hardcoresex:1,hell:1,heshe:1,hoar:1,hoare:1,hoer:1,homo:1,hore:1,horniest:1,horny:1,hotsex:1,"jack-off":1,jackoff:1,jap:1,"jerk-off":1,jism:1,jiz:1,jizm:1,jizz:1,kawk:1,knob:1,knobead:1,knobed:1,knobend:1,knobhead:1,knobjocky:1,knobjokey:1,kock:1,kondum:1,kondums:1,kum:1,kummer:1,kumming:1,kums:1,kunilingus:1,"l3i+ch":1,l3itch:1,labia:1,lust:1,lusting:1,m0f0:1,m0fo:1,m45terbate:1,ma5terb8:1,ma5terbate:1,masochist:1,"master-bate":1,masterb8:1,"masterbat*":1,masterbat3:1,masterbate:1,masterbation:1,masterbations:1,masturbate:1,"mo-fo":1,mof0:1,mofo:1,mothafuck:1,mothafucka:1,mothafuckas:1,mothafuckaz:1,mothafucked:1,mothafucker:1,mothafuckers:1,mothafuckin:1,mothafucking:1,mothafuckings:1,mothafucks:1,"mother fucker":1,motherfuck:1,motherfucked:1,motherfucker:1,motherfuckers:1,motherfuckin:1,motherfucking:1,motherfuckings:1,motherfuckka:1,motherfucks:1,muff:1,mutha:1,muthafecker:1,muthafuckker:1,muther:1,mutherfucker:1,n1gga:1,n1gger:1,nazi:1,nigg3r:1,nigg4h:1,nigga:1,niggah:1,niggas:1,niggaz:1,nigger:1,niggers:1,nob:1,"nob jokey":1,nobhead:1,nobjocky:1,nobjokey:1,numbnuts:1,nutsack:1,orgasim:1,orgasims:1,orgasm:1,orgasms:1,p0rn:1,pawn:1,pecker:1,penis:1,penisfucker:1,phonesex:1,phuck:1,phuk:1,phuked:1,phuking:1,phukked:1,phukking:1,phuks:1,phuq:1,pigfucker:1,pimpis:1,piss:1,pissed:1,pisser:1,pissers:1,pisses:1,pissflaps:1,pissin:1,pissing:1,pissoff:1,poop:1,porn:1,porno:1,pornography:1,pornos:1,prick:1,pricks:1,pron:1,pube:1,pusse:1,pussi:1,pussies:1,pussy:1,pussys:1,rectum:1,retard:1,rimjaw:1,rimming:1,"s hit":1,"s.o.b.":1,sadist:1,schlong:1,screwing:1,scroat:1,scrote:1,scrotum:1,semen:1,sex:1,"sh!+":1,"sh!t":1,sh1t:1,shag:1,shagger:1,shaggin:1,shagging:1,shemale:1,"shi+":1,shit:1,shitdick:1,shite:1,shited:1,shitey:1,shitfuck:1,shitfull:1,shithead:1,shiting:1,shitings:1,shits:1,shitted:1,shitter:1,shitters:1,shitting:1,shittings:1,shitty:1,skank:1,slut:1,sluts:1,smegma:1,smut:1,snatch:1,"son-of-a-bitch":1,spac:1,spunk:1,s_h_i_t:1,t1tt1e5:1,t1tties:1,teets:1,teez:1,testical:1,testicle:1,tit:1,titfuck:1,tits:1,titt:1,tittie5:1,tittiefucker:1,titties:1,tittyfuck:1,tittywank:1,titwank:1,tosser:1,turd:1,tw4t:1,twat:1,twathead:1,twatty:1,twunt:1,twunter:1,v14gra:1,v1gra:1,vagina:1,viagra:1,vulva:1,w00se:1,wang:1,wank:1,wanker:1,wanky:1,whoar:1,whore:1,willies:1,willy:1,xrated:1,xxx:1}},519:e=>{e.exports=/\b(4r5e|5h1t|5hit|a55|anal|anus|ar5e|arrse|arse|ass|ass-fucker|asses|assfucker|assfukka|asshole|assholes|asswhole|a_s_s|b!tch|b00bs|b17ch|b1tch|ballbag|balls|ballsack|bastard|beastial|beastiality|bellend|bestial|bestiality|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|bitchin|bitching|bloody|blow job|blowjob|blowjobs|boiolas|bollock|bollok|boner|boob|boobs|booobs|boooobs|booooobs|booooooobs|breasts|buceta|bugger|bum|bunny fucker|butt|butthole|buttmuch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cipa|cl1t|clit|clitoris|clits|cnut|cock|cock-sucker|cockface|cockhead|cockmunch|cockmuncher|cocks|cocksuck|cocksucked|cocksucker|cocksucking|cocksucks|cocksuka|cocksukka|cok|cokmuncher|coksucka|coon|cox|crap|cum|cummer|cumming|cums|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cuntlick|cuntlicker|cuntlicking|cunts|cyalis|cyberfuc|cyberfuck|cyberfucked|cyberfucker|cyberfuckers|cyberfucking|d1ck|damn|dick|dickhead|dildo|dildos|dink|dinks|dirsa|dlck|dog-fucker|doggin|dogging|donkeyribber|doosh|duche|dyke|ejaculate|ejaculated|ejaculates|ejaculating|ejaculatings|ejaculation|ejakulate|f u c k|f u c k e r|f4nny|fag|fagging|faggitt|faggot|faggs|fagot|fagots|fags|fanny|fannyflaps|fannyfucker|fanyy|fatass|fcuk|fcuker|fcuking|feck|fecker|felching|fellate|fellatio|fingerfuck|fingerfucked|fingerfucker|fingerfuckers|fingerfucking|fingerfucks|fistfuck|fistfucked|fistfucker|fistfuckers|fistfucking|fistfuckings|fistfucks|flange|fook|fooker|fuck|fucka|fucked|fucker|fuckers|fuckhead|fuckheads|fuckin|fucking|fuckings|fuckingshitmotherfucker|fuckme|fucks|fuckwhit|fuckwit|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux|fux0r|f_u_c_k|gangbang|gangbanged|gangbangs|gaylord|gaysex|goatse|God|god-dam|god-damned|goddamn|goddamned|hardcoresex|hell|heshe|hoar|hoare|hoer|homo|hore|horniest|horny|hotsex|jack-off|jackoff|jap|jerk-off|jism|jiz|jizm|jizz|kawk|knob|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kock|kondum|kondums|kum|kummer|kumming|kums|kunilingus|l3i\+ch|l3itch|labia|lust|lusting|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat3|masterbate|masterbation|masterbations|masturbate|mo-fo|mof0|mofo|mothafuck|mothafucka|mothafuckas|mothafuckaz|mothafucked|mothafucker|mothafuckers|mothafuckin|mothafucking|mothafuckings|mothafucks|mother fucker|motherfuck|motherfucked|motherfucker|motherfuckers|motherfuckin|motherfucking|motherfuckings|motherfuckka|motherfucks|muff|mutha|muthafecker|muthafuckker|muther|mutherfucker|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|nob|nob jokey|nobhead|nobjocky|nobjokey|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|pawn|pecker|penis|penisfucker|phonesex|phuck|phuk|phuked|phuking|phukked|phukking|phuks|phuq|pigfucker|pimpis|piss|pissed|pisser|pissers|pisses|pissflaps|pissin|pissing|pissoff|poop|porn|porno|pornography|pornos|prick|pricks|pron|pube|pusse|pussi|pussies|pussy|pussys|rectum|retard|rimjaw|rimming|s hit|s.o.b.|sadist|schlong|screwing|scroat|scrote|scrotum|semen|sex|sh!\+|sh!t|sh1t|shag|shagger|shaggin|shagging|shemale|shi\+|shit|shitdick|shite|shited|shitey|shitfuck|shitfull|shithead|shiting|shitings|shits|shitted|shitter|shitters|shitting|shittings|shitty|skank|slut|sluts|smegma|smut|snatch|son-of-a-bitch|spac|spunk|s_h_i_t|t1tt1e5|t1tties|teets|teez|testical|testicle|tit|titfuck|tits|titt|tittie5|tittiefucker|titties|tittyfuck|tittywank|titwank|tosser|turd|tw4t|twat|twathead|twatty|twunt|twunter|v14gra|v1gra|vagina|viagra|vulva|w00se|wang|wank|wanker|wanky|whoar|whore|willies|willy|xrated|xxx)\b/gi},602:e=>{"use strict";e.exports=JSON.parse('{"z":["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagg0t","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fuck","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger;","nigur;","niiger;","niigr;","orafis","orgasim;","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","queer","queers","queerz","qweers","qweerz","qweir","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slag","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","ass","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","lesbian","masturbate","masterbat*","masterbat3","motherfucker","s.o.b.","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi+","sh!+","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","*damn","*dyke","*fuck*","*shit*","@$$","amcik","andskota","arse*","assrammer","ayir","bi7ch","bitch*","bollock*","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock*","cunt*","d4mn","daygo","dego","dick*","dike*","dupa","dziwka","ejackulate","Ekrem*","Ekto","enculer","faen","fag*","fanculo","fanny","feces","feg","Felcher","ficken","fitt*","Flikker","foreskin","Fotze","Fu(*","fuk*","futkretzn","gook","guiena","h0r","h4x0r","hell","helvete","hoer*","honkey","Huevon","hui","injun","jizz","kanker*","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi*","kyrpa*","lesbo","mamhoon","masturbat*","merd*","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger*","orospu","paska*","perse","picka","pierdol*","pillu*","pimmel","piss*","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef*","rautenberg","schaffer","scheiss*","schlampe","schmuck","screw","sh!t*","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b*","testicle*","titt*","twat","vittu","wank*","wetback*","wichser","wop*","yed","zabourah"]}')}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";a(534);function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=$.templates("#tmplChatSendArea").render(),s=$.templates("#tmplNewMsgIndicator").render(),o=$.templates("#tmplBlockMsgText").render(),r=$.templates("#tmplBlockByMsgText").render(),n=$.templates("#tmplHiddenTxtMsg").render(),i=$.templates("#tmplCloseGroupIcon").render(),c=$.templates("#tmplPrivateGroupIcon").render(),d=0,u=[],l=!1,p=[],h=[],m=[],f=[];$.each(blockedUsersListObj,(function(e,t){m.push(t)})),$.each(myContactIdsObj,(function(e,t){f.push(t)}));var g=!0,v=!1,k=!1,b=!1,_=$(".no-conversation"),w=$(".no-archive-conversation"),y=$(".no-conversation-yet"),x=$(".no-archive-conversation-yet");_.hide(),w.hide(),y.hide(),x.hide(),_.removeClass("d-none"),$(document).ready((function(){var e,C,M="",T="",I=null,U=null,S=!0,A="",j=!0,R=!0,L=!1,F=!1,B=[],E=0,N=[],D=[],G=[],O="",P=$("#chatPeopleBody"),z=$("#archivePeopleBody"),Y=$(".chat__not-selected"),q=[];$("#myTab a").on("hidden.bs.tab",(function(){clearSearchAndFilterOfMyContactsTab(),clearSearchAndFilterOfNewContactsTab(),clearSearchOfGroupsTab(),clearSearchOfBlockedContactsTab()})),$('input[type="radio"]').iCheck({checkboxClass:"icheckbox_square",radioClass:"iradio_square-blue",increaseArea:"20%"}),window.addEventListener("dragover",(function(e){(e=e||event).preventDefault()}),!1),window.addEventListener("drop",(function(e){(e=e||event).preventDefault()}),!1),window.isInBlockedList=function(e){return-1==$.inArray(e,m)},$.ajax({type:"GET",url:groupsList,success:function(e){e.success&&$.each(e.data,(function(e,t){listenForGroupUpdates(t.id)}))},error:function(e){console.log(e)}}),$.ajax({type:"GET",url:conversationListURL,success:function(e){if(e.success){$("#infyLoader").hide();var t=e.data.conversations;if(0===t.length&&(y.show(),k=!0),P.append(t.map(prepareContacts).join("")),searchUsers(),loadTooltip(),e.data.conversations.length>9){var a=$("#loadMoreConversationBtn").clone();$("#chatPeopleBody").append(a),a.addClass("active"),a.show()}}},error:function(e){console.log(e)}}),$.ajax({type:"GET",url:archiveConversationListURL,success:function(e){if(e.success){var t=e.data.conversations;if(0===t.length&&(x.show(),b=!0),z.append(t.map(prepareContacts).join("")),z.find(".chat__person-box-archive").each((function(){$(this).text("Unarchive Chat")})),searchUsers(),e.data.conversations.length>9){var a=$("#loadMoreArchiverConversationBtn").clone();$("#archivePeopleBody").append(a),a.addClass("active"),a.show()}}},error:function(e){console.log(e)}});var J=$("#textMessage");function W(e){if(R)if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var a=window.getSelection();a.removeAllRanges(),a.addRange(t)}else if(void 0!==document.body.createTextRange){var s=document.body.createTextRange();s.moveToElementText(e),s.collapse(!1),s.select()}}function H(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];L=!0;var t=$(".chat-conversation"),a=t.prop("scrollHeight");e||(a/=2),t.scrollTop(a)}function H(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];L=!0;var t=$(".chat-conversation"),a=t.prop("scrollHeight");e||(a/=2),t.scrollTop(a)}$(document).on("click",".chat__person-box",(function(a){if($(a.currentTarget).data("id")==M)return!1;v=!1,$(".chat-conversation").html(""),_.hide(),L=!1,g=!0,B=[],E=0,$(document).find(".chat__person-box").removeClass("chat__person-box--active"),M=$(a.currentTarget).data("id"),$(".chat__people-body").find("#user-"+M).addClass("chat__person-box--active");var r=$(a.currentTarget).data("is_group"),i=getLocalStorageItem("user_"+M),c=userURL+M+"/conversation";$.ajax({type:"GET",url:c,data:{is_group:r},success:function(a){!0,j=!0,v=!0;var c=a.data.conversations[a.data.conversations.length-1];A=0!==a.data.conversations.length?c.id:0,C=$(".chat__person-box--active").data("id");var d=null;null===a.data.user&&(d=a.data.group),null===a.data.group&&(d=a.data.user);var u,l=!1;if(d.hasOwnProperty("is_my_contact")&&(l=d.is_my_contact),setIsMyContactAttribute(C,l),a.success&&C===d.id){if(checkUserStatus(d)){var p=$("#user-"+M),h=$.templates("#tmplUserNewStatus").render(d.user_status);p.find(".contact-status").html(h)}var m=a.data.conversations.reverse();M=d.id,T=d.photo_url,$("#user-"+M).find(".user-avatar-img").attr("src",T);var f=prepareChatHeader(d,m);if(d.hasOwnProperty("is_blocked")&&d.is_blocked?f+=n:f+=t,$(".chat__people-body").find(".chat__person-box--active").length<=0)if(!$(".chat__people-body").find("#user-"+d.id).length){var g=prepareNewConversation(d.id,d.name,"",d.photo_url,d.is_online,0);P.prepend(g),$("#user-"+d.id).addClass("chat__person-box--active")}if(d.hasOwnProperty("is_super_admin")&&d.is_super_admin?$(".chat-profile__switch-checkbox").addClass("d-none"):$(".chat-profile__switch-checkbox").removeClass("d-none"),$(".chat__area-wrapper").html(f),d.hasOwnProperty("is_blocked")&&!d.is_blocked||($(".contact-title-status").hide(),$(".contact-status").hide()),0===r&&!l&&d.is_req_send_receive){var k=a.data.chat_request,b=d;return b.chat_req=k,k.from_id==loggedInUserId?(setSendChatReqTemplate(b),$(".chat__area-text").addClass("d-none"),$(".typing").addClass("d-none"),!1):(d.chat_req_id=k.id,setReceiveChatReqTemplate(b),$(".chat__area-text").addClass("d-none"),$(".typing").addClass("d-none"),!1)}if(0===r&&!l&&0==d.privacy){var w=d;return w.chat_req=null,setSendChatReqTemplate(w),$(".chat__area-text").addClass("d-none"),$(".typing").addClass("d-none"),!1}_.hide();var y=$(".chat-conversation .unread").first();if(y.before(s),r){var x=getUnreadGroupMessageIds(m);fireReadMessageEventUsingIds(x)}else fireReadMessageEvent(m);if(y.length>0)scrollAtEle(y);else{j=!1;var I=$(".chat-conversation").children().last();scrollAtEle(I)}0===a.data.conversations.length&&addNoMessagesIndicator(),r?(!function(t,a){U=t.id;var s=$.templates("#tmplGroupDetails"),o={prepareMedia,getLocalDate,checkUserStatusForGroupMember};t.media=a,t.logged_in_user_id=parseInt(loggedInUserId),t.members_count=t.users.length,q[t.id]=t.users.length,e=t.my_role,N=function(e,t){var a=[];for(var s in e)e[s].hasOwnProperty(t)&&a.push(e[s][t]);return a}(t.users,"id");var r=s.render(t,o);$(".chat-profile").empty(),$(".chat-profile").html(r)}(d,a.data.media),closeDropDown(),d.removed_from_group||(u=d.id,window.Echo.private("group.".concat(u)).listenForWhisper("group-message-typing",(function(e){var t=e.data.name+" Typing...";$(".chat__person-box--active").data("id")==e.data.groupId&&($(".typing").removeClass("d-none"),$(".typing").html(t).show())})).listenForWhisper("stop-group-message-typing",(function(e){$(".chat__person-box--active").data("id")==e.data.groupId&&$(".typing").hide()}))),loadTooltip()):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];$(".chat-profile").empty();var a=$.templates("#tmplUserDetails"),s={prepareMedia,getCalenderFormatForLastSeen,disabledIfReported,groupUsers};e.media=t;var o=a.render(e,s);$(".chat-profile").html(o)}(d,a.data.media),getMessageByScroll(r),$(".open-profile-menu, .chat-profile__close-btn").on("click",(function(e){profileToggle(),$(this).parents(".dropdown-menu").length&&$(this).parents(".dropdown-menu").removeClass("show"),e.stopPropagation()})),setOpenMessageSearchEvent(),setOpenMsgInfoEvent(),(J=$("#textMessage")).emojioneArea({saveEmojisAs:"shortname",autocomplete:!0,textcomplete:{maxCount:15,placement:"top"},events:{focus:function(e){W(e[0])}}}),""!==i&&null!==i&&(E=1,J[0].emojioneArea.setText(i),removeLocalStorageItem("user_"+M),$("#btnSend").removeClass("chat__area-send-btn--disable")),J.data("emojioneArea").setFocus(),(r&&2===d.group_type&&2!==d.my_role||d.removed_from_group)&&$(".chat__area-text").remove(),ie(),D=[],G=[],O="",r?(O=a.data.group.id,prepareMessageReadInfo(a.data.conversations,a.data.group.users)):prepareMessageReadInfo(a.data.conversations,[])}if(getLocalStorageItem("reply")){var S=JSON.parse(getLocalStorageItem("reply"));S.user_id==M&&Te(S)}!r&&a.data.user.is_blocked_by_auth_user?$(".chat__area-wrapper").append(o):r||!a.data.user.is_blocked||a.data.user.is_blocked_by_auth_user||($(".chat__area-wrapper").append(o),$(".blocked-message-text span").text("You are blocked by this user.")),updateUnreadMessageCount(1),readNotificationWhenOpenChatWindow(M),loadTooltip()},error:function(e){console.log(e)}}),$(".chat__area-wrapper").on("dragover",(function(e){e.preventDefault(),e.stopPropagation(),$("#fileUpload").modal("show")}))})),window.closeDropDown=function(){$(document).on("click",".chat-profile",(function(){var e=$("#nav-group-members").find("[aria-expanded='true']");e.length&&e.trigger("click")}))},window.prepareMessageReadInfo=function(e,t){$.each(t,(function(e,t){if(t.id!=loggedInUserId){var a={user_id:t.id,name:t.name,photo_url:t.photo_url};D[t.id]=a}})),$.each(e,(function(e,t){G.push(t)}))},window.checkReqAlreadySent=function(e){return!!e&&0==e.status},window.checkReqAlreadyDeclined=function(e){return!!e&&2==e.status},window.setSendChatReqTemplate=function(e){var t=$.templates("#sendRequestTmpl"),a={checkReqAlreadySent},s=t.render(e,a);$("#conversation-container").html(s)},window.setReceiveChatReqTemplate=function(e){var t=$.templates("#getChatRequestTmpl"),a={checkReqAlreadyDeclined},s=t.render(e,a);$("#conversation-container").html(s)},window.setIsMyContactAttribute=function(e,t){var a=$("#user-"+e);if(1===a.data("is_group"))return a.attr("data-is_my_contact",!0),!0;a.attr("data-is_my_contact",t)},$(document).on("click","#sendChatRequest",(function(e){var t=$(this).data("id"),a={to_id:t,message:$("#chatRequestMessage-"+t).val()};$.ajax({type:"POST",url:sendChatReqURL,data:a,success:function(e){e.success&&(displayToastr("success","success",e.message),$("#chatRequestMessage-"+t).val(""),$(".request__content-title").text("You have send request to this user."),$(".send__request__message").hide())},error:function(e){displayToastr("error","error",e.responseJSON.message)}})})),$(document).on("click","#acceptChatReq",(function(e){var t={id:$(this).data("id")};$.ajax({type:"POST",url:acceptChatReqURL,data:t,success:function(e){e.success&&(displayToastr("success","success",e.message),$("#user-"+e.data.from_id).trigger("click"))},error:function(e){displayToastr("error","error",e.responseJSON.message)}})})),$(document).on("click","#declineChatReq",(function(e){var t={id:$(this).data("id")};$.ajax({type:"POST",url:declineChatReqURL,data:t,success:function(e){e.success&&(displayToastr("success","success",e.message),$("#user-"+e.data.from_id).find(".chat__person-box-count").addClass("d-none").text(0),$("#user-"+e.data.from_id).trigger("click"))},error:function(e){displayToastr("error","error",e.responseJSON.message)}})})),$(document).on("click",'[data-toggle="lightbox"]',(function(e){e.preventDefault(),$(this).ekkoLightbox(),setTimeout((function(){$(document).find(".ekko-lightbox.modal.fade.in.show").find("div .modal-content").prepend('<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div>')}),500)})),$(document).on("click",'[data-toggle="media"]',(function(e){e.preventDefault(),$(this).ekkoLightbox(),setTimeout((function(){$(document).find(".ekko-lightbox.modal.fade.in.show").find("div .modal-content").prepend('<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div>')}),500)})),$("body").tooltip({selector:".profile-media",placement:"top",boundary:"window",trigger:"hover"}),window.groupUsers=function(e){var t=["You"];return $.each(e,(function(e,a){a.id!=loggedInUserId&&t.push(a.name)})),t.join(", ")},window.disabledIfReported=function(e){return null==e?"":"disabled"},$(document).on("click","#open-report-user-modal",(function(){var e=$(this).attr("data-id");$("#reportUserId").val(e),$("#reportUserNote").val(""),$("#reportUserValidationErrorsBox").hide().text(""),$("#reportUserModal").modal("show")})),$(document).on("keyup","#reportUserNote",(function(){$("#reportUserValidationErrorsBox").hide().text("")})),$(document).on("click","#reportUser",(function(){var e=$(this),t=$("#reportUserId").val(),a=$("#reportUserNote").val();if(""===a)return $("#reportUserValidationErrorsBox").show().text("The notes field is required."),!1;e.button("loading");var s={reported_to:t,notes:a};$.ajax({type:"POST",url:reportUserURL,data:s,success:function(e){$("#open-report-user-modal").prop("disabled",!0),displayToastr("Success","success",e.message),$("#reportUserModal").modal("hide")},error:function(e){$("#reportUserValidationErrorsBox").show().text(e.responseJSON.message)},complete:function(){e.button("reset")}})})),window.displaySideMedia=function(e){$(".no-photo-found").hide();var t=prepareMedia(e);$(".chat-profile__media-container").append(t),$('[data-toggle="tooltip"]').tooltip()},window.prepareMedia=function(e){return 1===e.message_type?imageRendererInSideMedia(e.message,e.id):2===e.message_type?sideMediaRenderer(e.message,e.file_name,"fa-file-pdf-o",e.id):3===e.message_type?sideMediaRenderer(e.message,e.file_name,"fa-file-word-o",e.id):5===e.message_type?sideMediaRenderer(e.message,e.file_name,"fa-file-video-o",e.id):6===e.message_type?sideMediaRenderer(e.message,e.message,"fa fa-youtube-play",e.id):7===e.message_type?sideMediaRenderer(e.message,e.file_name,"fa-file-text-o",e.id):8===e.message_type?sideMediaRenderer(e.message,e.file_name,"fa-file-excel-o",e.id):4===e.message_type?sideMediaRenderer(e.message,e.file_name,"fa-file-audio-o",e.id):10===e.message_type?sideMediaRenderer(e.message,e.file_name,"fa fa-file-archive-o",e.id):""},window.scrollTop=function(){$(".chat-conversation").scrollTop(50)},window.scrollAtEle=function(e){if(e.length>0){var t=$(".chat-conversation"),a=e.position();t.scrollTop(a.top-100)}};var V=$(".chat-profile");$(document).on("click",".ekko-lightbox",(function(e){e.stopPropagation()})),window.profileToggle=function(){V.hasClass("chat-profile--active")?(V.removeClass("chat-profile--active").addClass("chat-profile--out"),setTimeout((function(){V.toggle()}),300)):(closeMsgInfo(),V.addClass("chat-profile--active").removeClass("chat-profile--out").toggle())},window.closeProfileInfo=function(){V.hasClass("chat-profile--active")&&(V.removeClass("chat-profile--active").addClass("chat-profile--out"),V.toggle())};var Q=$(".msg-info");window.setOpenMsgInfoEvent=function(){$(".open-msg-info").on("click",(function(e){var t=$(this).attr("data-message-id");"1"===$(this).attr("data-is_group")&&void 0!==t?setReadByContactsInfo(t):setReadByMessageInfo(t),openMsgInfo(),e.stopPropagation()})),$(".msg-info__close-btn").on("click",(function(e){closeMsgInfo(),e.stopPropagation()}))},window.openMsgInfo=function(){closeProfileInfo(),Q.hasClass("msg-info--active")||Q.addClass("msg-info--active").removeClass("msg-info--out").show()},window.closeMsgInfo=function(){Q.hasClass("msg-info--active")&&(Q.removeClass("msg-info--active").addClass("msg-info--out"),Q.hide())},window.setReadByContactsInfo=function(e){var t=getMsgInfoFromconversationMessages(e);null!==t&&(showMessageInMessageInfo(t),showConversationInfo(t),setReadByUsersCount())},window.setReadByUsersCount=function(){var e=$("#read-by-users").find(".chat__person-box").length;$("#read-by-users-section").find(".group-users-count").text("("+e+")")},window.setReadByMessageInfo=function(e){var t=getMsgInfoFromconversationMessages(e);null!==t&&showSingleConversationInfo(t)},window.checkReadAtDate=function(e){return null!=e&&""!=e&&"0000-00-00 00:00:00"!=e},window.prepareReadByContactsInfoHtml=function(e){var t=$.templates("#groupMsgReadUnreadInfo"),a={getCalenderFormatForLastSeen,checkReadAtDate};return t.render(e,a)};var Z=$("#remaining-users"),K=$("#remaining-users-list"),X=$("#remaining-users-section"),ee=$("#remaining-users-divider"),te=$("#read-by-users"),ae=$("#read-by-users-divider"),se=$("#read-by-users-section"),oe=$("#single-msg-divider"),re=$("#single-msg-section");window.showConversationInfo=function(e){var t=[],a=[];if(null!==e&&(showMessageInMessageInfo(e),$.each(e.read_by,(function(e,s){s.user=D[s.user_id],null!=s.read_at?t.push(s):a.push(s)}))),resetReadByUsers(),a.length>0){Z.text(a.length+" remaining").attr("data-remaining_count",a.length);var s=prepareReadByContactsInfoHtml(a);K.html(s),ee.show(),X.show()}if(te.attr("class","message-"+e.id+"-read-by-users"),te.html(""),t.length>0){var o=prepareReadByContactsInfoHtml(t);te.html(o),ae.show(),se.show()}},window.showSingleConversationInfo=function(e){if(null!==e){ee.show(),ae.show(),re.show().html(""),showMessageInMessageInfo(e);var t={getCalenderFormatForLastSeen},a=$.templates("#singleMessageReadInfoTmpl").render(e,t);$("#single-msg-section").html(a)}resetSingleMessageReadByInfo()},window.resetSingleMessageReadByInfo=function(){X.hide(),se.hide()},window.resetReadByUsers=function(){Z.text("").attr("data-remaining_count",0),K.html(""),ee.hide(),X.hide(),te.html(""),ae.hide(),se.hide(),oe.hide(),re.hide().html("")},window.getMsgInfoFromconversationMessages=function(e){var t=null;return $.each(G,(function(a,s){if(s.id==e)return t=s,!1})),t},window.showMessageInMessageInfo=function(e){var t={},a={displayMessage,getChatMagTimeInConversation},s=$.templates("#groupMsgReadUnreadMessage");t.data=e,t.loggedInUserId=loggedInUserId;var o=s.render(t,a);$("#msg-info-container-msg").html(o)},$(document).on("click",(function(){V.hasClass("chat-profile--active")&&(V.removeClass("chat-profile--active").addClass("chat-profile--out"),setTimeout((function(){V.toggle()}),300)),$(".chat__people-wrapper-bar").addClass("fa-bars").removeClass("fa-times")})),window.matchMedia("(max-width: 575px)").matches&&($(document).on("click",".contact-area, .chat__people-close-bar, .chat__person-box--active",(function(){$(".chat__people-wrapper").hasClass("chat__people-wrapper--responsive")||($(".chat__people-wrapper").addClass("hide-sidebar"),$(".chat__people-wrapper").addClass("chat__people-wrapper--responsive"),$(".chat__people-wrapper").removeClass("show-sidebar"))})),$(document).on("click",".back-to-chat",(function(){$(".chat__people-wrapper").hasClass("chat__people-wrapper--responsive")&&($(".chat__people-wrapper").addClass("show-sidebar"),$(".chat__people-wrapper").removeClass("hide-sidebar"),$(".chat__people-wrapper").removeClass("chat__people-wrapper--responsive"))}))),$(document).on("click",".chat-profile",(function(e){e.stopPropagation()})),$(document).on("click",".chat__people-wrapper",(function(e){e.stopPropagation()})),window.setOpenMessageSearchEvent=function(){$(document).on("focus",".chat__area-action-search-input",(function(){$(".chat__search--conversation").css({opacity:"1"})})),$(".chat__area-action-search-input").on("blur",(function(){$(".chat__search--conversation").css({opacity:".5"})})),$(".open-search-bar").on("click",(function(){$(".chat__area-action").addClass("chat__area-action--open"),$(".chat__area-header").addClass("chat__area-header--active"),$(".chat__area-action-search-input").focus()})),$(".chat__area-action-search-close").on("click",(function(){$(".chat__area-action").removeClass("chat__area-action--open"),$(".chat__area-header").removeClass("chat__area-header--active")}))},$(".chat__people-wrapper-bar").on("click",(function(e){$(this).toggleClass("fa-bars fa-times"),$(".chat__people-wrapper").toggleClass("chat__people-wrapper--responsive"),e.stopPropagation()})),$(".chat__search-responsive-icon").on("click",(function(){$(".chat__people-wrapper").removeClass("chat__people-wrapper--responsive"),$(".chat__people-wrapper-bar").toggleClass("fa-bars fa-times"),$(".chat__search-input").focus()})),$("#nav-icon3").on("click",(function(){$(this).toggleClass("open"),$(".chat__people-wrapper").toggleClass("chat__people-wrapper--responsive")})),$(".chat__chat-contact-item").on("click",(function(){$(".chat__chat-contact .chat__chat-contact-item").removeClass("chat__chat-contact--active"),$(this).addClass("chat__chat-contact--active")})),$('[data-toggle="tooltip"]').tooltip();var ne="";function ie(){var e="",t="",a=$("#toId").val(),s=$(".chat__person-box--active").data("is_group"),o=checkIsArchiveChat();ne={to_id:a,_token:csrfToken,is_archive_chat:o},s&&(ne.is_group=1),$("#btnSend").on("click",(function(){var e=J[0].emojioneArea.getText().trim();if(""===e)return!1;$(this).addClass("chat__area-send-btn--disable"),ne.message=e,storeMessage(ne),de(),removeLocalStorageItem("user_"+M),J.focus()})),J[0].emojioneArea.on("keyup emojibtn.click",(function(a,s){var o=s.keyCode||s.which;"keyup"==s.type&&9!==o&&J[0].emojioneArea.hidePicker();var r=J[0].emojioneArea.getText().trim();if(t=r,s&&13===s.which)return t===e||E?0===r.length?void $("#btnSend").addClass("chat__area-send-btn--disable"):($("#btnSend").removeClass("chat__area-send-btn--disable"),isTyping(),$("#btnSend").addClass("chat__area-send-btn--disable"),ne.message=r,storeMessage(ne),de(),E=0,removeLocalStorageItem("user_"+M),!0):(e=t,!1);E=0,0===r.length?$("#btnSend").addClass("chat__area-send-btn--disable"):($("#btnSend").removeClass("chat__area-send-btn--disable"),isTyping()),e=t})),J[0].emojioneArea.on("blur",(function(e,t){var s=J[0].emojioneArea.getText().trim();s.length>0&&setLocalStorageItem("user_"+a,s)}))}function ce(){(J=$("#textMessage")).emojioneArea({saveEmojisAs:"shortname",autocomplete:!0,textcomplete:{maxCount:15,placement:"top"},events:{focus:function(e){W(e[0])}}}),J.data("emojioneArea").setFocus()}function de(){J[0].emojioneArea.setText("")}function ue(e,t){return parseInt(e)+parseInt(t)}function le(){var e=[];if($.each(u,(function(t,a){-1===$.inArray(a,e)&&-1===$.inArray(a,p)&&e.push(a)})),p=$.merge(p,e),!(e.length<=0)){var t=$(".chat__person-box--active").data("is_group"),a=t?$(".chat__person-box--active").data("id"):"";u=[];var s=$(".chat__person-box--active").data("id");$.ajax({type:"post",url:readMessageURL,data:{ids:e,_token:csrfToken,is_group:t,group_id:a},success:function(t){if($.each(e,(function(e,t){$(".message-"+t).removeClass("unread")})),1==t.success){var a=t.data.remainingUnread,o=$("#user-"+s).find(".chat__person-box-count");o.text(a),a>0?(F=!1,g=!0):(o.text(0).addClass("d-none"),setTimeout((function(){$(".chat__msg-day-new-msg").parent().remove()}),2e4),L=!1,F=!0,g=!1)}}})}}function pe(e){var t=z.find("#user-"+e.from_id).length;if($.inArray(M,[e.from_id,e.to_id])>=0){g=!1,moveConversationFromArchiveToActiveChat(),setSentOrReceivedMessage(e);var a=P.find("#user-"+e.from_id),s=P.find("#user-"+e.to_id);a.length?addUserToTopOfConversation(e.from_id,a):s.length&&addUserToTopOfConversation(e.to_id,s),moveConversationFromArchiveToActiveChat()}else if(P.find("#user-"+e.from_id).length){var o=P.find("#user-"+e.from_id),r=o.find(".chat__person-box-count").text();0==(r=isNaN(r)||""===r?0:r)&&(d+=1,updateUnreadMessageCount(0));var n=ue(r,1);o.find(".chat__person-box-count").removeClass("d-none"),o.find(".chat__person-box-count").text(n).show(),o.find(".chat-message").html(getMessageByItsTypeForChatList(e.message,e.message_type,e.file_name)),o.find(".chat__person-box-time").text(getLocalDate(e.created_at)),addUserToTopOfConversation(e.from_id,o)}else{d+=1,updateUnreadMessageCount(0);var i=prepareNewConversation(e.from_id,htmlSpecialCharsDecode(e.sender.name),e,e.sender.photo_url);P.prepend(i),P.find("#user-"+e.from_id).find(".chat__person-box-status").removeClass("chat__person-box-status--offline").addClass("chat__person-box-status--online"),_.hide(),y.hide(),z.find("#user-"+e.from_id).remove()}t&&(makeConversationArchiveWhenMessageArrive(e.from_id),makeActiveChatTabActive(),showNoArchiveConversationEle())}window.checkIsArchiveChat=function(){return $(".chat__person-box--active").parents("#archivePeopleBody").length},window.moveConversationFromArchiveToActiveChat=function(){var e=$(".chat__person-box--active");e.find(".chat__person-box-archive").text("Archive Chat"),$("#chatPeopleBody").prepend(e),$("#archivePeopleBody").find(".chat__person-box--active").remove(),makeActiveChatTabActive()},window.storeMessage=function(e){var t=$("#user-"+M).data("is_my_contact");e.is_my_contact=t?1:0;var s=new(a(238));e.message=s.clean(e.message);var o=0;$(".chat__text-preview").length>0&&(o=$(".chat__text-preview").data("message-type")),e.is_group=0,""!==O&&(e.is_group=1);var r=null;0!=o||e.file_name||(r=function(e){var t=e;t.message=(a=e.message,String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"));var a;var s=moment().local().format("hh:mma");"1"==isUTCTimezone&&(s=getLocalDate(moment().utc()));t.time=s,t.senderName=authUserName,t.senderRole=authRole,t.senderImg=authImgURL,t.message=getMessageByItsTypeForChatList(t.message,0);var o=Math.floor(6*Math.random())+Date.now();if(t.randomMsgId=o,$(".chat__text-preview").length>0){if($(".chat__text-preview").find("emojine")){var r=$(".chat__text-preview").find(".replay-message").html();t.replyMessage=r}else t.replyMessage=$(".chat__text-preview").find(".replay-message").text();t.receiverName=$(".chat__text-preview").find(".reply-to-user").text()}else t.replyMessage="",t.receiverName="";var n=$.templates("#tmplSingleMessage").render(t);$((function(){$('[data-toggle="tooltip"]').tooltip()}));var i=$(".chat__person-box--active").find(".chat__person-box-time").text(),c=$.templates("#tmplToday");"Yesterday"==i||moment(i).isValid()?($(".chat__person-box--active").find(".chat__person-box-time").text(t.time),$(".chat-conversation").append(c)):i||($(".chat-conversation").append(c),$(".chat__person-box--active").find(".chat__person-box-time").text(getLocalDate(moment().utc())));return $(".chat-conversation").append(n),$(".chat__not-selected").hide(),H(),setOpenMsgInfoEvent(),o}(e));if($(".chat__text-preview").length>0){var n=$(".chat__text-preview").data("message-id");e.reply_to=n,!0,Me()}var i=checkIsArchiveChat();e.is_archive_chat=i,i&&(moveConversationFromArchiveToActiveChat(),showNoArchiveConversationEle()),$.ajax({type:"POST",url:sendMessageURL,data:e,success:function(t){if(e.reply_to="",!0===t.success){fireAddNewContactIdEvent(e.to_id);var a=t.data.message;G.push(t.data.message),$(".msg-options").find("[data-message-id="+r+"]").attr("data-message-id",a.id),$(".msg-options").find("[data-message-type="+r+"]").attr("data-message-type",a.message_type);var s=!1;0!=o&&(s=!0,setSentOrReceivedMessage(a)),0===a.message_type?($(".chat-conversation").find("[data-message_id="+r+"]").addClass("message-"+a.id).attr("data-message_id",a.id),updateMessageInSenderwindow(a),a.url_details&&($(".message-"+a.id).find(".message").empty(),$(".message-"+a.id).find(".chat-conversation__bubble.clearfix").addClass("max-width-35"),$(".message-"+a.id).find(".message").append(displayMessage(a)))):(6===a.message_type&&$(".chat-conversation").find("[data-message_id="+r+"]").remove(),s||setSentOrReceivedMessage(a));var n=P.find("#user-"+e.to_id);addUserToTopOfConversation(e.to_id,n),setOpenMsgInfoEvent()}getSelectedUserUnreadMsgCount(e.to_id)>0&&H()},error:function(t){e.reply_to="",displayToastr("Error","error",t.responseJSON.message),console.log(t),$("#btnSend").removeClass("chat__area-send-btn--disable")}})},window.fireAddNewContactIdEvent=function(e){-1!=$.inArray(e,h)&&(window.livewire.emit("addNewContactId",e),h=jQuery.grep(h,(function(t){return t!=e})))},window.getSelectedUserUnreadMsgCount=function(e){return $("#user-"+e).find(".chat__person-box-count").text()},window.setSentOrReceivedMessage=function(e){var t=prepareChatConversation(e,!1),a=$(".chat-conversation"),o=!1;if(displaySideMedia(e),e.from_id==loggedInUserId)F&&a.append(t),H();else if(notificationSound(),o=!!(ue(a.scrollTop(),a.innerHeight())>=a[0].scrollHeight-3),a.append(t),o)H();else{var r=$("#user-"+C).find(".chat__person-box-count"),n=r.text();if(n=ue(n,1),r.text(n),r.removeClass("d-none"),0===a.find(".chat__msg-day-new-msg").length)$(".message-"+e.id).before(s)}if($(".chat__not-selected").hide(),_.hide(),updateMessageInSenderwindow(e),!e.is_group){var i=P.find("#user-"+e.from_id);i.find(".chat-message").html(getMessageByItsTypeForChatList(e.message,e.message_type,e.file_name)),i.find(".chat__person-box-time").text(getLocalDate(e.created_at))}loadTooltip()},window.updateMessageInSenderwindow=function(e){var t=P.find("#user-"+e.to_id);t.find(".chat-message").html(getMessageByItsTypeForChatList(e.message,e.message_type,e.file_name)),t.find(".chat__person-box-time").text(getLocalDate(e.created_at))},window.getUnreadMessageIds=function(e){var t=[];return $.each(e,(function(e,a){a.to_id!=loggedInUserId||a.status||t.push(a.id)})),t},window.getUnreadGroupMessageIds=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=[],s=1;return e.length>t||$.each(e,(function(e,o){s<=t&&$(".message-"+o.id).hasClass("unread")&&a.push(o.id),s+=1})),a},window.fireReadMessageEvent=function(e){var t=getUnreadMessageIds(e);fireReadMessageEventUsingIds(t)},window.fireReadMessageEventUsingIds=function(e){if(e.length>0){if(u=$.merge(u,e),!l){setInterval(le,5e3);l=!0}}else F=!0},window.getMessageByItsTypeForChatList=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return 1===t?'<i class="fa fa-camera" aria-hidden="true"></i> Photo':2===t?'<i class="fa fa-file-pdf-o" aria-hidden="true"></i> '+a:3===t?'<i class="fa fa-file-word-o" aria-hidden="true"></i> '+a:4===t?'<i class="fa fa-file-audio-o" aria-hidden="true"></i> '+a:5===t?'<i class="fa fa-file-video-o" aria-hidden="true"></i> '+a:7===t?'<i class="fa fa-file-text-o" aria-hidden="true"></i> '+a:8===t?'<i class="fa fa-file-excel-o" aria-hidden="true"></i> '+a:10===t?'<i class="fa fa-file-archive-o" aria-hidden="true"></i> '+a:emojione.shortnameToImage(e)},window.checkUserStatus=function(e){return!(!e.hasOwnProperty("user_status")||null==e.user_status)},window.checkUserStatusForGroupMember=function(e){return null!=e},window.getDraftMessage=function(e){var t=getLocalStorageItem("user_"+e);return null!=t&&'<i class="fa fa-pencil" aria-hidden="true"></i> '+getMessageByItsTypeForChatList(t,0)},window.prepareContacts=function(e){var t=e.is_group?e.group:e.user,a=e.is_group?e.group_id:e.user_id,s=!0,o=!1;e.is_group&&t.removed_from_group&&(t=e.group_details),-1!=$.inArray(a.toString(),f)&&(o=!0),(null!=e.user&&-1!=$.inArray(parseInt(a),m)||e.is_group)&&(s=!1,o=!1);var r=$.templates("#tmplConversationsList"),n={getMessageByItsTypeForChatList,getLocalDate,checkUserStatus,checkForMyContact,getDraftMessage},i={showStatus:s,showUserStatus:o,contactId:a,contact:e,contactDetail:t,is_online:e.is_group?0:e.user.is_online},c=r.render(i,n);return e.unread_count>0&&(d+=1,updateUnreadMessageCount(0)),c},window.addUserToTopOfConversation=function(e,t){P.remove("#user-"+e),P.prepend(t)},window.Echo.private("user.".concat(loggedInUserId)).listen("UserEvent",(function(e){if(1===e.type)!function(e){var a=$(".chat__person-box--active").data("id");if(loggedInUserId!=e.blockedTo.id)return;e.isBlocked||a!=e.blockedBy.id?e.isBlocked&&(a==e.blockedBy.id&&($(".chat__area-text").remove(),$(".blocked-message-text").remove(),$(".typing").hide(),$(".chat__area-wrapper").append(r)),$("#user-"+a).find(".chat__person-box-status").hide(),$(".chat-profile__person-status").hide(),m.push(e.blockedBy.id)):($(".typing").show(),$("#user-"+a).find(".chat__person-box-status").show(),$(".chat-profile__person-status").show(),$(".chat__area-wrapper").append(t),$(".hdn-text-message").remove(),$(".blocked-message-text").remove(),ce(),ie(),removeValueFromArray(m,a))}(e);else if(2===e.type)pe(e);else if(3===e.type)window.livewire.emit("searchGroup"),me(e);else if(4===e.type)!function(e){var t="chat-container__read-status--read",a="chat-container__read-status--unread";$.each(e.ids,(function(s,o){$(".message-"+o).find(".chat-container__read-status").removeClass(a).addClass(t),updateReadMessageInfo(o,e.user_id)}))}(e);else if(5===e.type)!function(e){var t=$(".message-"+e.id);removeTimeline(t),function(e,t,a){var s=$(document).find("#user-"+a.from_id);if(null!=e&&0===t.nextAll("#send-receive-direction:first").length){var o=s,r=s.find(".chat__person-box-count").text();if((r=parseInt(r))>1){var n=r-1;o.find(".chat__person-box-count").html(n)}else o.find(".chat__person-box-count").html(0).removeClass("d-none").addClass("d-none");o.find(".chat-message").html(getMessageByItsTypeForChatList(e.message,e.message_type,e.file_name)),o.find(".chat__person-box-time").text(getLocalDate(e.created_at))}else null==a.previousMessage&&s.length>0&&(s.find(".chat-message").html(""),s.find(".chat__person-box-count").text(0).addClass("d-none"));checkAllMsgAndShowNoMsgYet()}(e.previousMessage,t,e),P.find("#user-"+e.from_id).length&&$(".message-"+e.id).remove()}(e);else if(6===e.type&&getCurrentUserId()===e.owner_id)readNotificationWhenChatWindowOpen(e.id,"#owner-"+e.owner_id);else if(7===e.type){if(!checkIsMyContact(e))return!1;pe(e)}else 8===e.type&&(f.push(e.owner_id),updateMyContactWhenChatReqAccepted(e.owner_id),getCurrentUserId()==e.owner_id&&$("#user-"+getCurrentUserId()).trigger("click"))})),window.updateMyContactWhenChatReqAccepted=function(e){$("#chatPeopleBody").find("#user-"+e).attr("data-is_my_contact",1)},window.checkIsMyContact=function(e){if(1==e.is_group)return!0;var t=$("#user-"+M);return!(t.length>0)||"1"==t.attr("data-is_my_contact")},window.updateReadMessageInfo=function(e,t){if(M!=t)return!1;$.each(G,(function(t,a){if(a.id==e){a.status=1,a.updated_at=moment.utc().format("YYYY-MM-DD hh:mm:ss");var s=$("#msg-read-at-"+e);return s.length>0&&s.text(getCalenderFormatForLastSeen(a.updated_at)),!1}}))},window.makeConversationArchiveWhenMessageArrive=function(e){$.ajax({type:"get",url:deleteConversationUrl+e+"/archive-chat",success:function(){showNoArchiveConversationEle()}})},window.Echo.private("chat").listenForWhisper("start-typing.".concat(loggedInUserId),(function(e){if(C==e.user.id){var t=e.user.name+" Typing...";$(".typing").html(t).show()}})).listenForWhisper("stop-typing.".concat(loggedInUserId),(function(e){C==e.user.id&&$(".typing").html("online").show()})),Echo.join("user-status").here((function(e){setTimeout((function(){$.each(e,(function(e,t){updateUserStatus(t,1)}))}),1e3)})).joining((function(e){updateUserStatus(e,1)})).leaving((function(e){updateUserStatus(e,0)})),window.prepareChatHeader=function(e,t){var a=null!==e.last_seen&&""!=e.last_seen?getCalenderFormatForLastSeen(e.last_seen):"Never",s=$(".chat__person-box--active").data("is_group"),o=$.templates("#tmplConversation"),r=$(o.render({user:e,lastSeenTime:a,isGroup:s},{checkUserStatus})),n=r.find(".chat-conversation");return n.html(""),null!==t.length&&n.html(t.map(prepareChatConversation).join("")),r.html()},window.prepareChatConversation=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(9===e.message_type){var a=addTimeLineEle(e.created_at,t),s=$.templates("#tmplMessageBadges"),o={getLocalDate};return a+s.render(e,o)}-1===$.inArray(t,[!0,!1])&&(t=!0);var r=addTimeLineEle(e.created_at,t),n=!1,i=e.from_id==loggedInUserId?"chat-conversation__sender":e.status?"chat-conversation__receiver":"chat-conversation__receiver unread",c=e.hasOwnProperty("is_group")&&0===e.is_group&&1==e.status||e.hasOwnProperty("read_by_all_count")&&0===e.read_by_all_count?"chat-container__read-status--read":"chat-container__read-status--unread";i.includes("chat-conversation__receiver")&&(n=!0);var d=!0,u=!0;e.time_from_now_in_min>messageDeleteTime&&(d=!1),e.time_from_now_in_min>u&&(u=!1);var l={},p={displayMessage,getChatMagTimeInConversation},h=$.templates("#tmplMessage");return l.data=e,l.isReceiver=n,l.loggedInUserId=loggedInUserId,l.authImage=$.parseHTML(authImgURL)[0].data,l.authUserName=authUserName,l.needToRemoveOldTimeline=t,l.className=i,l.readUnread=c,l.allowToDelete=d,l.deleteMsgForEveryone=u,r+h.render(l,p)},window.displayMessage=function(e){if(1===e.message_type)return imageRenderer(e.message);if(2===e.message_type)return fileRenderer(e.message,e.file_name,pdfURL);if(3===e.message_type)return fileRenderer(e.message,e.file_name,docsURL);if(5===e.message_type)return videoRenderer(e.message);if(6===e.message_type)return renderYoutubeURL(e.message);if(7===e.message_type)return fileRenderer(e.message,e.file_name,textURL);if(8===e.message_type)return fileRenderer(e.message,e.file_name,xlsURL);if(4===e.message_type)return voiceRenderer(e.message,e.file_name);if(10===e.message_type)return fileRenderer(e.message,e.file_name,zipURL);if(6===checkYoutubeUrl(e.message))return renderMultipleYouTubeUrl(e);if(e.url_details){var t={urlDetails:e.url_details,message:e.message};return $.templates("#tmplLinkPreview").render(t)}return emojione.shortnameToImage(detectUrlFromTextMessage(e.message))},window.checkYoutubeUrl=function(e){return-1!=e.indexOf("youtube.com/watch?v=")?6:0},window.findUrls=function(e){for(var t,a=(e||"").toString(),s=[],o=/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)|((mailto:)?[_.\w-]+@([\w][\w\-]+\.)+[a-zA-Z]{2,3})/g;null!==(t=o.exec(a));){var r=t[0];s.push(r)}return s},window.renderMultipleYouTubeUrl=function(e){var t=e.from_id!=loggedInUserId?"float-right":"float-left",a=e.from_id!=loggedInUserId?"mr-2":"float-right ml-2",s=findUrls(e.message),o="";return $.each(s,(function(e,t){o+=renderYoutubeURL(t,a)})),o+'<div class="d-inline-block '+t+' mx-1" style="max-width: 500px;">'+e.message+"</div>"},window.addTimeLineEle=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=getCalenderFormatForTimeLine(e),s=a.split(" ").join("_").replace(",",""),o="",r='<div class="chat__msg-day-divider d-flex justify-content-center '+s+'">\n               <span class="chat__msg-day-title">'+a+"</span>\n          </div>";if("Today"==a&&"Today"==$(".chat-conversation").find($(".chat__msg-day-title")).text())return"";if(-1===$.inArray(a,B))o=r,B.push(a);else if(t){var n=$(".chat-conversation").find("."+s);n.length&&($("."+s).remove(),o=r)}return o},window.isTyping=function(){var e=Echo.private("chat");$(".chat__person-box--active").data("is_group")?groupChatTyping():(S&&e.whisper("start-typing.".concat(C),{user:{id:loggedInUserId,name:authUserName},typing:!0}),S=!1,clearTimeout(I),I=setTimeout(stopTyping,1e3))},window.groupChatTyping=function(){var e=$(".chat__person-box--active").data("id");Echo.private("group.".concat(e)).whisper("group-message-typing",{data:{groupId:e,name:authUserName},typing:!0}),setTimeout(stopGroupChatTyping,1e3)},window.stopGroupChatTyping=function(){var e=$(".chat__person-box--active").data("id");Echo.private("group.".concat(e)).whisper("stop-group-message-typing",{data:{groupId:e,name:authUserName},typing:!0})},window.stopTyping=function(){S=!0,Echo.private("chat").whisper("stop-typing.".concat(C),{user:{id:loggedInUserId},typing:!0})},window.setNoConversationYet=function(){var e=$("#chatPeopleBody").find(".chat__person-box").length,t=$("#archivePeopleBody").find(".chat__person-box").length;b=!(t>0),(k=!(e>0))?y.show():y.hide(),b?x.show():x.hide()},$(document).on("click",".user-list-chat-select__list-item",(function(){$(".user-list-chat-select .user-list-chat-select__list-item").removeClass("user-list-chat-select__list-item--active"),$(this).addClass("user-list-chat-select__list-item--active"),startNewConversation()})),window.startNewConversation=function(){var e=$(".user-list-chat-select__list-item--active input")[0].value,t=checkForMyContact(e),a=$(".user-list-chat-select__list-item--active img").attr("src"),s=$(".user-list-chat-select__list-item--active .add-user-contact-name").text();$("#addNewChat").modal("toggle");var o=$(".chat__people-body").find("#user-"+e).length;z.find("#user-"+e).length?makeArchiveChatTabActive():makeActiveChatTabActive();var r=$(".user-"+e).data("status"),n=$(".user-"+e).data("is-group");if(!o){var i=prepareNewConversation(e,s,"",a,r,n?1:0);P.prepend(i),n||h.push(e)}$("#user-"+e).trigger("click"),$("#user-"+e).attr("data-is_my_contact",t),setNoConversationYet()},window.checkForMyContact=function(e){return $.inArray(e.toString(),f)>-1?1:0},window.prepareNewConversation=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,n=0;""!==a&&(o=a.sender.is_online,n=1);var i=$.templates("#tmplContact"),c={getMessageByItsTypeForChatList,getLocalDate};return i.render({id:e,name:t,photo_url:s,status:o,isGroup:r,messageInfo:a,count:n},c)},window.makeUserOnlineOffline=function(e,t){t?e.find(".chat__person-box-status").removeClass("chat__person-box-status--offline").addClass("chat__person-box-status--online"):e.find(".chat__person-box-status").removeClass("chat__person-box-status--online").addClass("chat__person-box-status--offline")},$("#addNewChat").on("show.bs.modal",(function(){$(".user-list-chat-select .user-list-chat-select__list-item").removeClass("user-list-chat-select__list-item--active"),$("#userListForChat").children("li").removeAttr("style")})),$("#addNewChat").on("hidden.bs.modal",(function(){clearSearchAndFilterOfMyContactsTab(),clearSearchAndFilterOfNewContactsTab(),clearSearchOfGroupsTab(),clearSearchOfBlockedContactsTab()})),window.clearSearchAndFilterOfMyContactsTab=function(){var e=$('input[type="checkbox"][name="my_contacts_filter"]'),t=$("#searchMyContactForChat").val();1!=e.prop("checked")&&""==t||(e.prop("checked",!1),window.livewire.emit("clearSearchMyContacts")),$("#searchMyContactForChat").val("")},window.clearSearchAndFilterOfNewContactsTab=function(){var e=$("#searchContactForChat").val(),t=$('input[type="checkbox"][name="new_contact_gender"]');1!=t.prop("checked")&&""==e||(t.prop("checked",!1),window.livewire.emit("clearSearchUsers")),$("#searchContactForChat").val("")},window.clearSearchOfGroupsTab=function(){""!=$("#searchGroupsForChat").val()&&window.livewire.emit("clearSearchGroup"),$("#searchGroupsForChat").val("")},window.clearSearchOfBlockedContactsTab=function(){""!=$("#searchBlockUsers").val()&&window.livewire.emit("clearSearchOfBlockedUsers"),$("#searchBlockUsers").val("")},window.prepareContactForModal=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={getGender,checkUserStatusForGroupMember},s=$.templates("#tmplAddChatUsersList"),o=s.render(e,a);t?$("#userListForChat").append(o):$("#userListForChat").html(o)},window.getGender=function(e){return 1==e?"male":2==e?"female":""},window.prepareBlockedUsers=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];$(".no-blocked-user").hide();var a=$.templates("#tmplBlockedUsers"),s=a.render(e);t?$("#blockedUsersList").append(s):$("#blockedUsersList").html(s)},window.searchEleSearchEvent=function(e){e.on("search",(function(){this.value||e.trigger("keyup")}))},window.searchUsers=function(){var e=[],t=$("#searchUserInput");searchEleSearchEvent(t),t.on("keyup",(function(){e=[],$("#loadMoreConversationBtn.active").hide(),$("#loadMoreArchiverConversationBtn.active").hide();var t=$(this).val().toLowerCase(),a=getActiveNavChatTabId();$("#"+a+" .chat__person-box").filter((function(){$(this).toggle($(this).find(".chat__person-box-name").text().toLowerCase().indexOf(t)>-1),e.push($(this).find(".chat__person-box-name").text().toLowerCase().indexOf(t))})),""==t&&($("#loadMoreConversationBtn.active").show(),$("#loadMoreArchiverConversationBtn.active").show()),"chatPeopleBody"===a&&ifUserNotPresentShowNoRecordFound(e,"no-conversation"),"archivePeopleBody"===a&&ifUserNotPresentShowNoRecordFound(e,"no-archive-conversation")}))},$(document).on("click","#activeChatTab",(function(){resetSearch()})),$(document).on("click","#archiveChatTab",(function(){resetSearch()})),window.resetSearch=function(){$("#searchUserInput").val("").trigger("keyup")},window.getActiveNavChatTabId=function(){return $(".chat__tab-content").find(".active").attr("id")},window.removeValueFromArray=function(e,t){for(var a=0;a<e.length;a++)e[a]===t&&e.splice(a,1);return e},window.ifUserNotPresentShowNoRecordFound=function(e,t){var a=!1;if($.each(e,(function(e,t){if(t>=0)return a=!0,!1})),a)return $("."+t).hide(),!1;var s=getActiveNavChatTabId();return""!==$("#searchUserInput").val()?("chatPeopleBody"===s&&y.hide(),"archivePeopleBody"===s&&x.hide(),$("."+t).show()):(k&&"chatPeopleBody"===s&&y.show(),b&&"archivePeopleBody"===s&&x.show(),$("."+t).hide()),!0},window.updateUserStatus=function(e,t){var a=P.find("#user-"+e.id),s=$(".user-"+e.id),o=$(".chat-user-"+e.id);if(-1==$.inArray(e.id,m))if(1==t)a.find(".chat__person-box-status").removeClass("chat__person-box-status--offline").addClass("chat__person-box-status--online"),$("#toId").val()==e.id&&($(".typing").html("online"),$(".chat-profile__person-status").show().text("online"),$(".chat-profile__person-last-seen").hide()),s.find(".chat__person-box-status").removeClass("chat__person-box-status--offline").addClass("chat__person-box-status--online"),s.attr("data-status",1),o.removeClass("online").removeClass("offline").addClass("online");else{a.find(".chat__person-box-status").removeClass("chat__person-box-status--online").addClass("chat__person-box-status--offline"),s.find(".chat__person-box-status").removeClass("chat__person-box-status--online").addClass("chat__person-box-status--offline"),s.attr("data-status",0),o.removeClass("online").removeClass("offline").addClass("offline");var r="last seen at: "+getCalenderFormatForLastSeen(Date(),"hh:mma",0);if($(".typing").html(r),$(".chat__person-box--active").data("is_group"))return;$(".chat-profile__person-last-seen").show().text(r),$(".chat-profile__person-status").hide()}},window.getMessageByScroll=function(e){$(".chat-conversation").on("scroll",(function(){if(0===$(this).scrollTop()){if(!0===!!v){var e=$(".chat__person-box--active").data("is_group");getOldOrNewConversation({before:A,is_group:e},1,0)}}else if($(this).scrollTop()+$(this).innerHeight()>=$(this)[0].scrollHeight-1){var t=[];$(".chat-conversation .unread").each((function(){t.push($(this).data("message_id"))})),t.length>0&&fireReadMessageEventUsingIds(t);var a=$(".chat__person-box--active").find(".chat__person-box-count").text();if((a=isNaN(a)||""===a?0:a)>0&&(j=!!g),!0===j){var s=$(".chat-conversation").children().last().attr("data-message_id");if($(".message-"+s).next().length>0)return;var o=$(".chat__person-box--active").data("is_group");getOldOrNewConversation({after:s,is_group:o},0,1)}}}))},window.getOldOrNewConversation=function(e,t,a){var s=$(".chat__person-box--active").data("is_group");$(".loading-message").removeClass("d-none");var o=userURL+M+"/conversation";$.ajax({type:"GET",url:o,data:e,success:function(o){var r=s?o.data.group:o.data.user;if(o.success&&C===r.id){var n=o.data.conversations;if($.merge(G,n),n.length>0){if(t){var i=o.data.conversations[o.data.conversations.length-1];A=i.id,$.each(n,(function(e,t){$(".chat-conversation").prepend(prepareChatConversation(t))}));var c=$(".message-"+e.before);scrollAtEle(c),setOpenMsgInfoEvent()}a&&($.each(n,(function(e,t){$(".chat-conversation").append(prepareChatConversation(t,!1))})),setOpenMsgInfoEvent(),fireReadMessageEvent(n))}else t&&!1,a&&(j=!1);L&&a&&H(),$(".loading-message").addClass("d-none")}},error:function(e){console.log(e)}})},window.imageRenderer=function(e){return'<a href="'.concat(e,'" data-fancybox="gallery" data-toggle="lightbox" data-gallery="example-gallery" data-src="').concat(e,'"><img src="').concat(e,'"></a>')},window.pdfRenderer=function(e,t){return'<div class="media-wrapper d-flex align-items-center"><i class="fa fa-file-pdf-o" aria-hidden="true"></i><a href= "'.concat(e,'"  target="blank" class="item"> ').concat(t,"</a></div>")},window.voiceRenderer=function(e,t){return'<div class="media-wrapper d-flex align-items-center p-0"><audio controls><source src="'.concat(e,'" type="audio/mp3">\n            Your browser does not support the audio element.\n        </audio></div>')},window.docRenderer=function(e,t){return'<div class="media-wrapper d-flex align-items-center"><i class="fa fa-file-word-o" aria-hidden="true"></i><a href="'.concat(e,'"\n    target="_blank">').concat(t,"</a></div>")},window.txtRenderer=function(e,t){return'<div class="media-wrapper d-flex align-items-center"><i class="fa fa-file-text-o" aria-hidden="true"></i><a href="'.concat(e,'"\n    target="_blank">').concat(t,"</a></div>")},window.xlsRenderer=function(e,t){return'<div class="media-wrapper d-flex align-items-center"><img class="chat-file-preview" src="'.concat(xlsURL,'" /><a href="').concat(e,'"\n    target="_blank">').concat(t,"</a></div>")},window.fileRenderer=function(e,t,a){return a?'<div class="media-wrapper d-flex align-items-center"><img class="chat-file-preview" src="'.concat(a,'" /><a href= "').concat(e,'"  target="blank" class="item"> ').concat(t,"</a></div>"):'<div class="media-wrapper d-flex align-items-center"><i class="fa '.concat(a,'" aria-hidden="true"></i><a href= "').concat(e,'"  target="blank" class="item"> ').concat(t,"</a></div>")},window.videoRenderer=function(e){return'<div class="chat-media">\n                     <video id="my-video" class="video-js" controls preload="auto" width="640" height="264" data-setup=\'\'>\n                            <source src="'.concat(e,'" type="video/mp4">\n                            <source src="').concat(e,'" type="video/webm">\n                            <p class="vjs-no-js">\n                                To view this video please enable JavaScript, and consider upgrading to a web browser that\n                                <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>\n                            </p>\n                      </video>\n                </div>')},window.renderYoutubeURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=getYoutubeEmbedURL(e);return'<iframe width="246" height="246" style="border-radius:8px;" class="'+t+'" src="'.concat(a,'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>\n            </iframe>')},window.getYoutubeEmbedURL=function(e){var t=e,a=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return a&&11===a[2].length&&(t="https://www.youtube.com/embed/"+a[2]),t},window.format=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MMM-YYYY";return moment(e).format(t)},window.imageRendererInSideMedia=function(e,t){return'<a href="'.concat(e,'" data-fancybox="gallery" data-toggle="media" data-gallery="media-gallery" data-src="').concat(e,'" id="mediaProfile-').concat(t,'"><img src="').concat(e,'"></a>')},window.sideMediaRenderer=function(e,t,a,s){return'<div class="media-wrapper d-flex align-items-center profile-media" id="mediaProfile-'.concat(s,'" title="').concat(t,'" ><a href= "').concat(e,'" target="blank" class="item"> <i class="fa ').concat(a,'" aria-hidden="true" ></i></a></div>')},window.getLocalDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hh:mma";if("0"==isUTCTimezone)return moment(e).format(t);var a=moment(e).local();return a.calendar(null,{sameDay:t,lastDay:"[Yesterday]",lastWeek:"M/D/YY",sameElse:"M/D/YY"})},window.getChatMagTimeInConversation=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h:mma";return"0"==isUTCTimezone?moment(e).format(t):moment.utc(e).local().format(t)},window.getCalenderFormatForLastSeen=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hh:mma",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=a?moment(e).local():moment(e);return s.calendar(null,{sameDay:"[Today], "+t,lastDay:"[Yesterday], "+t,lastWeek:"dddd, "+t,sameElse:function(){return moment().year()===moment(e).year()?"MMM D, "+t:"MMM D YYYY, "+t}})},window.getCalenderFormatForTimeLine=function(e){return moment(e).utc(e).local().calendar(null,{sameDay:"[Today]",lastDay:"[Yesterday]",lastWeek:"dddd, MMM Do",sameElse:function(){return moment().year()===moment(e).year()?"dddd, MMM Do":"dddd, MMM Do YYYY"}})},window.addNoMessagesIndicator=function(){var e=$.templates("#tmplNoMessagesYet").render();$("#conversation-container").html(e)},window.detectUrlFromTextMessage=function(e){return e.replace(/((http|https|ftp):\/\/[a-zа-я0-9\w?=&.\/-;#~%-]+(?![a-zа-я0-9\w\s?&.\/;#~%"=-]*>))/g,"<a href='$1' target='_blank'>$1</a>")},window.addNoConversationIndicator=function(){var e=$.templates("#tmplConversationYet").render();$(".chat__area-wrapper").html(e)},window.fireSwal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Deleted!",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Message has been deleted!";Swal.fire({icon:e,title:t,text:a,confirmButtonColor:"#20a8d8",timer:2e3})},window.deleteConversation=function(e){$.ajax({type:"get",url:deleteConversationUrl+e+"/delete",success:function(t){if(!0!==t.success)return!1;fireSwal("success","Deleted!","Conversation has been deleted!");var a=!1;if(C===e){var s=$("#user-"+C).parents(".contact-area");0===s.length&&(s=$("#user-"+C));var o=s.nextAll(".contact-area:first").find(".chat__person-box");if(0===o.length&&(o=s.nextAll(".chat__person-box:first")),o.length>0)$("#user-"+o.data("id")).trigger("click");else{var r=s.prevAll(".contact-area:first").find(".chat__person-box");0===r.length&&(r=s.prevAll(".chat__person-box:first")),r.length&&$("#user-"+r.data("id")).trigger("click"),0===r.length&&(a=!0)}0===o.length&&a&&(a=!0)}var n=$("#user-"+e).parents(".contact-area");0===n.length&&(n=$("#user-"+e));var i=n.parents("#chatPeopleBody"),c=n.parents("#archivePeopleBody");if(n.remove(),a){var d=$("#chatPeopleBody").find(".chat__person-box:first");d.length>0&&$("#user-"+d.data("id")).trigger("click")}i.length>0&&0===P.find(".chat__person-box").length&&(setNoConversationYet(),addNoConversationIndicator(),M=0),c.length>0&&0===$("#archivePeopleBody").find(".chat__person-box").length&&(setNoConversationYet(),addNoConversationIndicator(),M=0)}})};var he=Swal.mixin({customClass:{confirmButton:"btn btn-danger mr-2 btn-lg",cancelButton:"btn btn-secondary btn-lg"},buttonsStyling:!1});function me(e){var t=e.group_created_by+' added you in group "'+e.name+'"';if($("#user-"+e.id).length>0)return $("#user-"+e.id).find(".chat-message").text(t),$("#user-"+e.id).find(".chat__person-box-count").removeClass("d-none").text(1),$("#user-"+e.id).find(".chat__person-box-time").text(getLocalDate(e.created_at)),_.hide(),void listenForGroupUpdates(e.id);var a=prepareNewConversation(e.id,htmlSpecialCharsDecode(e.name),"",e.photo_url,"",1);P.prepend(a),$("#user-"+e.id).find(".chat-message").text(t),$("#user-"+e.id).find(".chat__person-box-count").removeClass("d-none").text(1),$("#user-"+e.id).find(".chat__person-box-time").text(getLocalDate(e.created_at)),_.hide(),listenForGroupUpdates(e.id)}function fe(e){return'<div class="col-2"><i class="fa fa-edit edit-group pointer text-center" data-id="'+e+'"></i></div>'}function ge(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(a){var o=xe(t,e,!1);$("#makeAdmin-"+t).remove(),$(".member-options-"+t).append(o),$(".group-member-"+t).find(".chat__person-box-detail").append('<span class="badge badge-pill badge-success">Admin</span>');var r=fe(e),n=$(".divGroupDetails").find(".edit-group");0===n.length&&$(".divGroupDetails").find(".col-10").after(r),parseInt(loggedInUserId)===t&&(ve(s,e),$(".btn-add-members").show())}else{var i=xe(t,e);$("#dismissAdmin-"+t).remove(),$(".member-options-"+t).append(i),$(".group-member-"+t).find(".chat__person-box-detail span").remove(),parseInt(loggedInUserId)===t&&($(".edit-group").parent().remove(),ke(s,e),$(".btn-add-members").hide())}}function ve(e,t){$.each(e,(function(e,a){if(a!==parseInt(loggedInUserId)){var s=$.templates("#tmplMemberOptions").render({member_id:a,group_id:t});$(".group-member-"+a).append(s)}}))}function ke(e,t){$.each(e,(function(e,t){t!==parseInt(loggedInUserId)&&$(".group-member-"+t).find(".chat__person-box-msg-time").remove()}))}function be(e,t){q[e]-=1,$(".members-count").text(q[e]);for(var a=0;a<N.length;a++)N[a]===parseInt(t)&&N.splice(a,1);if($(".group-member-"+t).remove(),t===parseInt(loggedInUserId)){Echo.leave("group."+e),$(".chat__area-text").remove();var s=Ce(e);$(".btn-add-members").parent().remove(),$(".btn-leave-from-group").parent().remove(),$(".group-profile-data").append(s)}}function _e(e,t){q[e]+=t.users.length,$(".members-count").text(q[e]);var a=$.templates("#tmplSingleGroupMember").render(t);$(".div-group-members-nav").append(a)}function $e(){$(".chat__area-wrapper").append(t),ce(),ie()}function we(e,t){var a=!!e.is_blocked;$.ajax({url:userURL+t+"/block-unblock",type:"PUT",data:e,success:function(e){if(e.success){displayToastr("Success","success",e.message);var s=e.data.user;a?(fireAddNewBlockedIdEvent(t),function(e){$(".chat__area-text").remove(),$(".blocked-message-text").remove(),$(".block-unblock-span").text("Unblock"),$(".chat__area-wrapper").append(o),$(".chat-user-"+e.id).remove(),$(".typing").hide(),$("#user-"+e.id).find(".chat__person-box-status").hide(),$(".chat-profile__person-status").hide(),$("#user-"+e.id).find(".contact-status").hide(),$(".contact-title-status").hide(),prepareBlockedUsers({users:e},!0)}(s)):(fireRemoveBlockedIdEvent(t),function(e){$e(),$(".blocked-message-text").remove(),$(".block-unblock-span").text("Block"),$(".typing").show().removeClass("d-none"),$("#user-"+e.id).find(".chat__person-box-status").show(),$(".chat-profile__person-status").show(),$("#user-"+e.id).find(".contact-status").show(),$(".contact-title-status").show()}(s))}},error:function(e){displayToastr("Error","error",e.responseJSON.message)}})}function ye(e,t){$.ajax({type:"POST",url:createGroupURL+"/"+t,data:e,processData:!1,contentType:!1,success:function(e){var t=e.data.group;e.data.conversation&&setSentOrReceivedMessage(e.data.conversation),displayToastr("Success","success",e.message),function(e){var t=e.id;$("#groupDetailsDescription-"+t).text(e.description),e.description||$("#groupDetailsDescription-"+t).text("No description added yet...");$("#groupDetailsName-"+t).text(e.name),$("#groupDetailsImage-"+t).attr("src",e.photo_url),$(".group-list-"+t).find("img").attr("src",e.photo_url),$(".group-list-"+t).find(".add-user-contact-name").text(e.name),$(".contact-title").text(e.name),$(".chat-header-img").attr("src",e.photo_url),$(".chat__person-box--active").find(".chat__person-box-name").text(e.name),$(".chat__person-box--active").find(".chat__person-box-avtar img").attr("src",e.photo_url),2===e.group_type?$(".group-profile-image").append(i):$(".group-profile-image").find(".closed-group-badge").remove();2===e.privacy?$(".group-profile-image").append(c):$(".group-profile-image").find(".private-group-badge").remove();$("#editOldGroup").modal("hide")}(t)},error:function(e){displayToastr("Error","error",e.responseJSON.message)}})}function xe(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a?'<a class="dropdown-item make-member-to-group-admin" href="#" data-member-id="'+e+'" data-group-id="'+t+'" id="makeAdmin-'+e+'">Make Admin</a>':'<a class="dropdown-item dismiss-admin-member" href="#" data-member-id="'+e+'" data-group-id="'+t+'" id="dismissAdmin-'+e+'">Dismiss As Admin</a>  '}function Ce(e){return'<div class="chat-profile__column pt-1"> <a href="#" class="btn btn-danger btn-delete-group" data-group-id="'+e+'">Delete Group</a></div>'}function Me(){$(".chat__text-preview").remove(),$(".chat-conversation").removeClass("chat-conversation-88"),removeLocalStorageItem("reply")}function Te(e){var t={getURLFromMessageType:Ie},a=$.templates("#tmplReplayBox").render(e,t);return $(".chat__area-text").before(a),$(".chat-conversation").addClass("chat-conversation-88"),J.data("emojioneArea").setFocus(),e}function Ie(e){return 2==e?pdfURL:3==e?docsURL:4==e?audioURL:5==e?videoURL:6==e?youtubeURL:7==e?textURL:8==e?xlsURL:void 0}$(document).on("click",".chat__person-box-delete",(function(e){var t=$(this).parents(".chat__person-box").data("id"),a=$("#user-"+t).find(".contact-name").text().toString().trim();he.fire({title:"Are you sure?",html:"Delete chat with <b>"+a+"</b>?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then((function(e){e.value&&deleteConversation(t)})),e.stopPropagation()})),$(document).on("click",".chat__person-box-archive",(function(e){var t=$(this).parents(".chat__person-box").data("id"),a=$(this).parents("#archivePeopleBody").length,s=$("#user-"+t).find(".contact-name").text(),o=a?"Unarchive":"Archive";he.fire({title:"Are you sure?",html:o+" chat with <b>"+s+"</b>?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes"}).then((function(e){e.value&&archiveConversation(t)})),e.stopPropagation()})),window.archiveConversation=function(e){$.ajax({type:"get",url:deleteConversationUrl+e+"/archive-chat",success:function(t){if(!0===t.success){t.data.archived?fireSwal("success","Archived!","Conversation has been archived!"):fireSwal("success","Unarchived!","Conversation has been unarchived!");var a=$("#user-"+e);$("#user-"+e).remove(),t.data.archived?(a.find(".chat__person-box-archive").text("Unarchive Chat"),$("#loadMoreArchiverConversationBtn.active").length>0?$("#loadMoreArchiverConversationBtn.active").before(a):z.append(a),makeArchiveChatTabActive()):(a.find(".chat__person-box-archive").text("Archive Chat"),$("#loadMoreConversationBtn.active").length>0?$("#loadMoreConversationBtn.active").before(a):P.append(a),makeActiveChatTabActive()),setNoConversationYet()}}})},window.makeActiveChatTabActive=function(){$('.nav-item a[href="#chatPeopleBody"]').tab("show")},window.makeArchiveChatTabActive=function(){$('.nav-item a[href="#archivePeopleBody"]').tab("show")},window.showNoArchiveConversationEle=function(){0===z.find(".chat__person-box").length?w.show():w.hide()},window.showNoActiveConversationEle=function(){0===P.find(".chat__person-box").length?_.show():_.hide()},window.removeTimeline=function(e){var t=e.prev(".chat__msg-day-divider");t.length&&(0===e.next().length&&t.remove())},window.checkAllMsgAndShowNoMsgYet=function(){var e=$("#conversation-container"),t=e.find(".chat-conversation__sender").length,a=e.find(".chat-conversation__receiver").length,s=$(".chat-conversation").find("#message-badges").length;if(0===t&&0===a&&0===s){var o=$(".chat__person-box--active");e.html(""),Y.show(),addNoMessagesIndicator(),o.find(".chat-message").text(""),o.find(".chat__person-box-time").text("")}},window.deleteMsgForEveryone=function(e,t){$.ajax({type:"post",url:"/conversations/"+e+"/delete",data:{previousMessageId:t},success:function(t){if(!0===t.success){var a=t.data.previousMessage;fireSwal("success","Deleted!","Message has been deleted!");var s=$(".message-"+e);if(removeTimeline(s),removeMediaFromProfileBar(e),null!=a&&0===s.nextAll("#send-receive-direction:first").length){var o=$(".chat__person-box--active");o.find(".chat-message").html(getMessageByItsTypeForChatList(a.message,a.message_type,a.file_name)),o.find(".chat__person-box-time").text(getLocalDate(a.created_at))}s.remove(),checkAllMsgAndShowNoMsgYet()}},error:function(e){displayToastr("Error","error",e.responseJSON.message)}})},window.deleteMessage=function(e,t){$.ajax({type:"post",url:deleteMessageUrl+e+"/delete",data:{previousMessageId:t},success:function(t){if(!0===t.success){var a=t.data.previousMessage;fireSwal("success","Deleted!","Message has been deleted!");var s=$(".message-"+e);if(removeTimeline(s),removeMediaFromProfileBar(e),null!=a&&0===s.nextAll("#send-receive-direction:first").length){var o=$(".chat__person-box--active");o.find(".chat-message").html(getMessageByItsTypeForChatList(a.message,a.message_type,a.file_name)),o.find(".chat__person-box-time").text(getLocalDate(a.created_at))}s.remove(),checkAllMsgAndShowNoMsgYet()}},error:function(e){displayToastr("Error","error",e.responseJSON.message)}})},Echo.private("updates").listen("UpdatesEvent",(function(e){if(1==e.type){var t=e.user;$("#userListForChat").find(".chat-user-"+t.id).find("img").attr("src",t.photo_url),$("#myContactListForChat").find(".chat-user-"+t.id).find(".user-avatar-img").attr("src",t.photo_url),$("#myContactListForAddPeople").find(".chat-user-"+t.id).find(".user-avatar-img").attr("src",t.photo_url),$("#groupMembersList .new-group-members__list").find(".user-"+t.id).find(".user-avatar-img").attr("src",t.photo_url),$(".chat__area-header").find(".chat__area-header-avatar").find("img").attr("src",t.photo_url),$("#userListForChat").find(".chat-user-"+t.id).find(".add-user-contact-name").text(t.name),$("#user-"+t.id).find("img").attr("src",t.photo_url),$("#user-"+t.id).find(".contact-name").text(t.name),$(".user-chat-image-"+t.id).attr("src",t.photo_url).attr("data-original-title",t.name);var a=$("#nav-group-members").find("#user-"+t.id);a.find(".contact-name").text(t.name),a.find("img").attr("src",t.photo_url)}else if(2==e.type){var s=e.user_status,o=$("#user-"+s.user_id),r=o.attr("data-is_my_contact");if("0"==r||"false"==r)return!1;var n=$("#nav-group-members").find("#user-"+s.user_id).find(".group-user-status"),i=$("#myContactListForChat").find(".chat-user-"+s.user_id).find(".my-contact-user-status"),c=$.templates("#tmplUserNewStatus").render(s);o.find(".contact-status").html(c),n.html(c),i.html(c),M==s.user_id&&$(".contact-title-status").html(c),loadTooltip()}else 3==e.type&&($("#user-"+e.user_id).find(".contact-status").html(""),M==e.user_id&&$(".contact-title-status").html(""),$("#nav-group-members").find("#user-"+e.user_id).find(".group-user-status").html(""),$("#myContactListForChat").find(".chat-user-"+e.user_id).find(".my-contact-user-status").html(""),loadTooltip())})),window.listenForGroupUpdates=function(t){Echo.private("group.".concat(t)).listen("GroupEvent",(function(t){var a=$(".chat__person-box--active").data("id");if(1===t.type)!function(t){var a=$(".chat__person-box--active").data("id");$("#groupDetailsDescription-"+t.id).text(t.description),t.description||$("#groupDetailsDescription-"+t.id).text("No description added yet...");if($("#groupDetailsName-"+t.id).text(t.name),$("#groupDetailsImage-"+t.id).attr("src",t.photo_url),$("#user-"+t.id).find(".chat__person-box-name").text(t.name),$("#user-"+t.id).find(".chat__person-box-avtar img").attr("src",t.photo_url),$(".group-list-"+t.id).find("img").attr("src",t.photo_url),$(".group-list-"+t.id).find(".add-user-contact-name").text(t.name),a!=t.id)return;$(".contact-title").text(t.name),$(".chat-header-img").attr("src",t.photo_url),2===t.group_type&&2!==t.my_role?$(".chat__area-text").remove():$e();if(2===t.privacy)$(".group-profile-image").append(c),1===e&&$(".btn-add-members").parent().remove();else if($(".group-profile-image").find(".private-group-badge").remove(),$(".group-profile-data").find(".btn-add-members").length<=0){var s=function(e){return'<div class="chat-profile__column pb-0"><a href="#" class="btn btn-success btn-add-members" data-group-id="'+e+'">Add Members</a></div>'}(t.id);$(".btn-leave-from-group").parent().before(s)}2===t.group_type?($(".group-profile-image").append(i),1===e&&$(".chat__area-text").remove()):($(".group-profile-image").find(".closed-group-badge").remove(),$e())}(t.group);else if(2===t.type&&a==t.group.id)ge(t.group.id,t.user_id,t.is_admin,t.userIds);else if(3===t.type&&a==t.group.id)be(t.group.id,t.user_id);else if(4===t.type&&a==t.group.id){var s=t.group;s.my_role=e,s.users=t.group.users,_e(t.group.id,s)}else 5===t.type&&a==t.group.id?(t.group.id,$(".members-count").hide(),$(".div-group-members-nav").empty().append('<p class="no-group-members-found text-center">No group members found...</p>'),$(".btn-add-members").parent().remove(),$(".btn-leave-from-group").parent().remove(),$(".chat__area-text").remove(),$(".edit-group").parent().remove()):6===t.type&&a==t.group.id?setTimeout((function(){$(".message-"+t.conversation_id).find(".chat-container__read-status").addClass("chat-container__read-status--read")}),1e3):7===t.type?function(e){if(M==e.to_id){var t=P.find("#user-"+e.to_id),a=t.find(".chat__person-box-count").text();a=isNaN(a)||""===a?0:a,g=!1,setSentOrReceivedMessage(e),t.length&&addUserToTopOfConversation(e.to_id,t)}else if(P.find("#user-"+e.to_id).length){var s=P.find("#user-"+e.to_id),o=s.find(".chat__person-box-count"),r=o.text();0==(r=isNaN(r)||""===r?0:r)&&(d+=1,updateUnreadMessageCount(0));var n=ue(r,1);o.removeClass("d-none").text(n).show(),s.find(".chat-message").html(getMessageByItsTypeForChatList(e.message,e.message_type,e.file_name)),s.find(".chat__person-box-time").text(getLocalDate(e.created_at)),addUserToTopOfConversation(e.to_id,s)}else{d+=1,updateUnreadMessageCount(0);var i=prepareNewConversation(e.to_id,htmlSpecialCharsDecode(e.group.name),e,e.group.photo_url,"",1);P.prepend(i),_.hide()}}(t):8===t.type&&updateReadByUsersOfGroupMessage(t);$.inArray(t.type,[3,4,5,1])>=0&&window.livewire.emit("searchGroup")}))},window.updateReadByUsersOfGroupMessage=function(e){if(O!==e.group.id||0===e.conversation_ids.length)return!1;$.each(e.conversation_ids,(function(t,a){var s=$(document).find(".message-"+a+"-read-by-users");$.each(G,(function(t,o){if(o.id==a)return $.each(o.read_by,(function(t,a){if(null==a.read_at&&a.user_id==e.read_by_user_id)return a.read_at=e.read_at,!1})),s.length>0&&showConversationInfo(o),!1}))})),setReadByUsersCount()},$(document).on("click",".msg-delete-for-everyone",(function(e){e.preventDefault();var t=$(this).parent().parent().parent().parent().data("message_id"),a=$(".message-"+t),s=a.prevAll("#send-receive-direction:first"),o=0,r=a.prev("#message-badges");r.length?o=r.data("message_id"):s.length&&(o=s.data("message_id")),he.fire({title:"Are you sure?",html:"Delete this message?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then((function(e){e.value&&deleteMsgForEveryone(t,o)})),e.stopPropagation()})),$(document).on("click",".msg-delete-icon",(function(e){e.preventDefault();var t=$(this).parent().parent().parent().parent().data("message_id"),a=$(".message-"+t),s=a.prevAll("#send-receive-direction:first"),o=0,r=a.prev("#message-badges");r.length?o=r.data("message_id"):s.length&&(o=s.data("message_id")),he.fire({title:"Are you sure?",html:"Delete this message?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then((function(e){e.value&&deleteMessage(t,o)})),e.stopPropagation()})),window.fireAddNewBlockedIdEvent=function(e){e=parseInt(e),m.push(e),window.livewire.emit("addNewBlockedContactId",e),window.livewire.emit("addBlockedUserId",e)},window.fireRemoveBlockedIdEvent=function(e){e=parseInt(e),window.livewire.emit("removeBlockedContactId",e),window.livewire.emit("removeBlockedUserId",e),m=jQuery.grep(m,(function(t){return t!=e}))},$(document).on("click",".btn-unblock",(function(e){var t=this;e.preventDefault(),he.fire({title:"Are you sure?",html:"Unblock this user?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes"}).then((function(e){if(e.value){R=!1;var a=$(t).data("id");we({is_blocked:!1,blocked_to:a},a)}}))})),$(document).on("click",".block-unblock-user-switch",(function(e){var t=$(this).is(":checked"),a=$("#senderId").val(),s={};s.is_blocked=t,s.blocked_to=a;var o=t?"block":"unblock";he.fire({title:"Are you sure?",html:"You want to "+o+" this user?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes"}).then((function(e){e.value?we(s,a):$(".block-unblock-user-switch").prop("checked",!t)}))})),$(document).on("change","#groupImage",(function(){var e=$(this).val().split(".").pop().toLowerCase();-1==$.inArray(e,["gif","png","jpg","jpeg"])?($(this).val(""),$("#groupValidationErrorsBox").html("The profile image must be a file of type: jpeg, jpg, png.").show()):displayPhoto(this,"#groupPhotoPreview")})),$(document).on("change","#editGroupImage",(function(){var e=$(this).val().split(".").pop().toLowerCase();-1==$.inArray(e,["gif","png","jpg","jpeg"])?($(this).val(""),$("#editGroupValidationErrorsBox").html("The profile image must be a file of type: jpeg, jpg, png.").show()):displayPhoto(this,"#editGroupPhotoPreview")})),window.displayPhoto=function(e,t){var a=!0;if(e.files&&e.files[0]){var s=new FileReader;s.onload=function(e){var s=new Image;s.src=e.target.result,s.onload=function(){$(t).attr("src",e.target.result),a=!0}},a&&(s.readAsDataURL(e.files[0]),$(t).show())}},$("#createGroupForm").on("submit",(function(e){e.preventDefault();var t=$("#groupId").val(),a=new FormData($(this)[0]);a.delete("users");var s=JSON.parse($("#selectedGroupMembers").val());return s.length<1?(displayToastr("Error","error","Add any one member."),!1):($.each(s,(function(e,t){a.append("users[]",t)})),t?void ye(a,t):($("#btnCreateGroup").attr("disabled",!0),$("#btnCreateGroup").button("loading"),void function(e){$.ajax({type:"post",url:createGroupURL,data:e,processData:!1,contentType:!1,success:function(e){window.livewire.emit("newGroupCreated"),window.livewire.emit("searchGroup"),displayToastr("Success","success",e.message),me(e.data),$("#user-"+e.data.id).trigger("click"),$(".chat__person-box--active").find(".chat__person-box-count").text(0).hide(),$("#createNewGroup").modal("hide")},error:function(e){displayToastr("Error","error",e.responseJSON.message)},complete:function(){$("#btnCreateGroup").removeAttr("disabled"),$("#btnCreateGroup").button("reset")}})}(a)))})),$("#editGroupForm").on("submit",(function(e){e.preventDefault();var t=$("#editGroupId").val(),a=new FormData($(this)[0]);$("#btnEditGroup").attr("disabled",!0),$("#btnEditGroup").button("loading"),ye(a,t)})),$(document).on("click",".edit-group",(function(e){var t=$(e.currentTarget).data("id");$.ajax({type:"GET",url:groupsList+"/"+t,success:function(e){if(e.success){var t=e.data;$("#editGroupId").val(t.id),$("#editGroupName").val(t.name),$("#editGroupDesc").val(t.description),2===t.group_type&&$("#editGroupTypeClose").iCheck("check"),2===t.privacy&&$("#editGroupPrivate").iCheck("check"),$("#editGroupPhotoPreview").attr("src",t.photo_url),2!==t.my_role&&($(".div-group-privacy").addClass("d-none"),$(".div-group-type").addClass("d-none")),$("#editOldGroup").modal("show")}},error:function(e){displayToastr("Error","error",e.responseJSON.message)}}),e.stopPropagation()})),$("#createNewGroup").on("hidden.bs.modal",(function(){$("#groupId").val(""),$("#groupTypeOpen").iCheck("check"),$("#groupPublic").iCheck("check"),$("#groupMembers").parent().show(),$(".div-group-privacy").removeClass("d-none"),$(".div-group-type").removeClass("d-none"),$("#btnCreateGroup").removeAttr("disabled"),$("#btnCreateGroup").button("reset"),resetModalForm("#createGroupForm","#groupValidationErrorsBox"),window.livewire.emit("resetGroupMemberSearch"),addedMembers=[],$("#groupMembersList").show(),$(".added-group-members-list").find("li").remove(),$(".no-member-added").removeClass("d-none")})),$("#editOldGroup").on("hidden.bs.modal",(function(){$("#editGroupId").val(""),$("#editGroupTypeOpen").iCheck("check"),$("#editGroupPublic").iCheck("check"),$(".div-group-privacy").removeClass("d-none"),$(".div-group-type").removeClass("d-none"),$("#btnEditGroup").removeAttr("disabled"),$("#btnEditGroup").button("reset"),resetModalForm("#editGroupForm","#editGroupValidationErrorsBox")})),$(document).on("click",".btn-add-members",(function(e){e.preventDefault();var t=$(e.currentTarget).data("group-id");$.ajax({type:"GET",url:createGroupURL+"/"+t,success:function(e){if(e.success){var a=e.data;addedMembers=a.users,a.users_with_trashed.length>0&&$("modalAddGroupMembers").find(".no-member-added").removeClass("d-none").addClass("d-none");var s=$.templates("#tmplNoGroupMembers"),o=$.templates("#tmplAddedGroupMembers"),r=a.users_with_trashed;$(".btn-add-members-to-group").attr("data-group-id",t);var n=o.render(r);$("#modalAddGroupMembers").find(".added-group-members-list").html(n),n=s.render({}),$("#modalAddGroupMembers").find(".added-group-members-list").append(n),window.livewire.emit("searchEditGroupMembers","",a.users),$("#modalAddGroupMembers").modal("show"),$("#selectedGroupMembersForEdit").val(JSON.stringify(addedMembers))}},error:function(e){displayToastr("Error","error",e.responseJSON.message)}})})),window.isMembersInGroup=function(e,t){return-1!==$.inArray(t,e)},$(document).on("click",".btn-add-members-to-group",(function(e){e.preventDefault();var t=JSON.parse($("#selectedGroupMembersForEdit").val()),a=$(t).not(N).get();0!==a.length&&($(this).button("loading"),$(this).attr("disabled"),$.ajax({type:"PUT",url:groupsList+"/"+U+"/add-members",data:{members:a},success:function(e){e.success&&(_e(U,e.data.group),$.merge(N,a),setSentOrReceivedMessage(e.data.conversation),displayToastr("Success","success",e.message))},error:function(e){displayToastr("Error","error",e.responseJSON.message)},complete:function(){$("#modalAddGroupMembers").modal("hide")}}))})),$("#modalAddGroupMembers").on("hidden.bs.modal",(function(){$(".btn-add-members-to-group").removeAttr("disabled"),$(".btn-add-members-to-group").button("reset"),addedMembers=[]})),$(document).on("click",".remove-member-from-group",(function(e){e.preventDefault(),he.fire({title:"Are you sure?",html:"Remove member from this group ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, remove it!"}).then((function(t){if(t.value){var a=$(e.currentTarget).data("member-id"),s=$(e.currentTarget).data("group-id");$.ajax({type:"DELETE",url:groupsList+"/"+s+"/members/"+a,success:function(e){e.success&&(setSentOrReceivedMessage(e.data),be(s,a),$("#modalAddGroupMembers").modal("hide"),displayToastr("Success","success",e.message))},error:function(e){displayToastr("Error","error",e.responseJSON.message)}})}})),e.stopPropagation()})),$(document).on("click",".make-member-to-group-admin",(function(t){t.preventDefault(),he.fire({title:"Are you sure?",html:"Make this member to Admin?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes"}).then((function(a){if(a.value){var s=$(t.currentTarget).data("member-id"),o=$(t.currentTarget).data("group-id");$.ajax({type:"PUT",url:groupsList+"/"+o+"/members/"+s+"/make-admin",success:function(t){t.success&&(setSentOrReceivedMessage(t.data),e=2,ge(o,s,!0),displayToastr("Success","success",t.message))},error:function(e){displayToastr("Error","error",e.responseJSON.message)}})}})),t.stopPropagation()})),$(document).on("click",".dismiss-admin-member",(function(t){t.preventDefault(),he.fire({title:"Are you sure?",html:"Dismiss this member from Admin?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes"}).then((function(a){if(a.value){var s=$(t.currentTarget).data("member-id"),o=$(t.currentTarget).data("group-id");$.ajax({type:"PUT",url:groupsList+"/"+o+"/members/"+s+"/dismiss-as-admin",success:function(t){t.success&&(setSentOrReceivedMessage(t.data),e=1,ge(o,s,!1),displayToastr("Success","success",t.message))},error:function(e){displayToastr("Error","error",e.responseJSON.message)}})}})),t.stopPropagation()})),$(document).on("click",".btn-leave-from-group",(function(e){e.preventDefault(),he.fire({title:"Are you sure?",html:"You want to leave this group?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes!"}).then((function(t){if(t.value){var a=$(e.currentTarget).data("group-id");$.ajax({type:"DELETE",url:groupsList+"/"+a+"/leave",success:function(e){if(e.success){window.livewire.emit("searchGroup"),q[a]-=1,$(".members-count").text(q[a]),Echo.leave("group."+a),$(".typing").remove(),displayToastr("Success","success",e.message),setSentOrReceivedMessage(e.data),$(".btn-leave-from-group").parent().remove();var t=Ce(a);$(".group-member-"+loggedInUserId).remove(),$(".group-profile-data").append(t),$(".chat__area-text").remove()}},error:function(e){displayToastr("Error","error",e.message)}})}})),e.stopPropagation()})),$(document).on("click",".btn-delete-group",(function(e){e.preventDefault(),he.fire({title:"Are you sure?",html:"You want to remove this Group ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes!"}).then((function(t){if(t.value){var a=$(e.currentTarget).data("group-id");$.ajax({type:"DELETE",url:groupsList+"/"+a+"/remove",success:function(e){e.success&&(window.livewire.emit("searchGroup"),Echo.leave("group."+a),$(".chat__person-box--active").remove(),addNoConversationIndicator(),$(".btn-leave-from-group").parent().remove(),displayToastr("Success","success",e.message))},error:function(e){displayToastr("Error","error",e.message)}})}})),e.stopPropagation()})),window.updateUnreadMessageCount=function(e){if(0===(d-=e)||d<1)$("title").text("Conversations | "+appName);else{var t=d>99?"(99+)":"("+d+")";$("title").text(t+" | Conversations | "+appName)}},window.removeMediaFromProfileBar=function(e){$("#mediaProfile-"+e).remove();var t=$(".chat-profile__media-container").children().length;1!=t&&0!=t||$(".no-photo-found").show()},window.loadTooltip=function(){$('[data-toggle="tooltip"]').tooltip()},$(document).on("click",".group-members-list-chat-select__list-item",(function(e){var t=$(this).find(".select-group-members");$(this).hasClass("opacity-07")||(t.prop("checked")?$(this).find(".select-group-members").iCheck("uncheck"):$(this).find(".select-group-members").iCheck("check"))})),$(document).on("click",".replay-close-btn",(function(e){Me()})),$(document).on("click",".msg-replay",(function(e){e.preventDefault(),e.stopPropagation(),Me();var t={},a=$(this).data("sender"),s=M,o=$(this).data("self-reply"),r=$(this).data("message-type");o&&(a="You"),t.id=$(this).data("message-id"),t.message=$(this).data("message"),t.receiver=a,t.user_id=s,t.messageType=r,Te(t),setLocalStorageItem("reply",JSON.stringify(t))})),""!==conversationId&&setTimeout((function e(){var t=$(document).find("#user-"+conversationId);t.length?t.trigger("click"):setTimeout(e,500)}),500),window.addEventListener("paste",(function(e){!function(e,t,a){0==e.clipboardData&&"function"==typeof t&&t(void 0);var s=e.clipboardData.items;null==s&&"function"==typeof t&&t(void 0);for(var o=function(e){if(-1==s[e].type.indexOf("image"))return"continue";var o=s[e].getAsFile(),r=document.createElement("canvas"),n=r.getContext("2d"),i=new Image;i.onload=function(){r.width=this.width,r.height=this.height,n.drawImage(i,0,0),"function"==typeof t&&t(r.toDataURL(a||"image/png"))};var c=window.URL||window.webkitURL;i.src=c.createObjectURL(o)},r=0;r<s.length;r++)o(r)}(e,(function(e){if(!(M>0||""!=M))return!1;if(e){var t=$.templates("#copyPastImgTmplt").render({url:e});$("#imageCanvas").append(t),$("#copyImageModal").modal("show")}}))}),!1),$(document).on("click","#sendImages",(function(e){var t=[],a=$("#imageCanvas").find(".img-thumbnail");$.each(a,(function(e,a){t.push($(this).attr("src"))}));var s={to_id:M,message_type:1,images:t,is_group:$(".chat__person-box--active").data("is_group")};$.ajax({type:"POST",url:imageUploadURL,data:s,success:function(e){$.each(e.data,(function(e,t){setSentOrReceivedMessage(t)})),resetImageCanvas(),$("#copyImageModal").modal("hide")},error:function(e){displayToastr("Error","error",e.responseJSON.message)}})})),$(document).on("click",".remove-img",(function(e){$(this).parent().remove()})),$("#copyImageModal").on("hidden.bs.modal",(function(){resetImageCanvas()})),window.resetImageCanvas=function(){$("#imageCanvas").html("")}}));var C="",M=[];$("#submit-all").hide(),$("#cancel-upload-file").hide(),window.Dropzone.options.dropzone={thumbnailWidth:125,acceptedFiles:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.mp4,.mkv,.avi,.txt,.mp3,.ogg,.wav,.aac,.alac,.zip,.rar",timeout:5e4,autoProcessQueue:!1,parallelUploads:10,addRemoveLinks:!0,dictRemoveFile:'<i class="fa fa-trash-o" title="Remove" style="color: indianred;"></i>',uploadMultiple:!0,init:function(){var e=document.querySelector("#submit-all"),t=document.querySelector("#cancel-upload-file");C=this,e.addEventListener("click",(function(){$(".dz-progress").show(),C.processQueue()})),t.addEventListener("click",(function(){C.removeAllFiles(!0),$("#fileUpload").modal("toggle")})),this.on("addedfile",(function(){$("#submit-all,#cancel-upload-file").show(),$(".dz-progress").hide()})),this.on("removedfile",(function(){0===this.getQueuedFiles().length&&$("#submit-all,#cancel-upload-file").hide()}))},complete:function(e){this.getQueuedFiles().length>0&&this.processQueue(),this.files.push(e),this.on("queuecomplete",(function(){$("#fileUpload").modal("toggle"),this.removeAllFiles(!0),M=[]}))},success:function(e,t){$.each(t.data,(function(e,t){var a=$("#toId").val(),s=$(".chat__person-box--active").data("is_group"),o={to_id:a,message:t.attachment,message_type:t.message_type,file_name:t.file_name,is_group:s?1:0};-1===$.inArray(t.unique_code,M)&&(storeMessage(o),M.push(t.unique_code))}))},error:function(t,a){var s;return"object"===e(a)&&(a=a.hasOwnProperty("message")?a.message:"There is some error, Please try after some time"),displayToastr("Error","error",a),null!=(s=t.previewElement)?s.parentNode.removeChild(t.previewElement):void 0}},$("#fileUpload").on("hidden.bs.modal",(function(){$("#submit-all,#cancel-upload-file").hide(),C.removeAllFiles(!0)})),$(document).on("mouseleave",".chat__person-box",(function(){$(".more-btn-conversation-item").removeClass("show")}));var T=document.getElementById("chatPeopleBody"),I=($(T).outerHeight(),10),U=$("#chatPeopleBody"),S=$("#loadMoreConversationBtn").clone();$(document).on("click",".load-more-conversation",(function(){$(this).parent().remove();var e=$(T).find(".chat__people-body-loader").clone();e.addClass("ajax-loading"),$(U).append(e),e.show(),!0,$.ajax({type:"GET",url:conversationListURL,data:{offset:I},dataType:"json",success:function(t){if(e.remove(),t.data.conversations.length>0&&(!1,I+=10,t.success)){$("#infyLoader").hide();var a=t.data.conversations;U.append(a.map(prepareContacts).join("")),searchUsers(),loadTooltip(),t.data.conversations.length>0&&(U.append(S),S.show(),S.addClass("active"))}},error:function(e){console.log(e)}})}));var A=document.getElementById("archivePeopleBody"),j=($(A).outerHeight(),10),R=$("#archivePeopleBody"),L=$("#loadMoreArchiverConversationBtn").clone();$(document).on("click",".load-more-archive-conversation",(function(){$(this).parent().remove();var e=$(T).find(".chat__people-body-loader").clone();e.addClass("ajax-loading"),$(R).append(e),e.show(),!0,$.ajax({type:"GET",url:archiveConversationListURL,data:{offset:j},dataType:"json",success:function(t){if(e.remove(),!1,j+=10,t.success){var a=t.data.conversations;R.append(a.map(prepareContacts).join("")),R.find(".chat__person-box-archive").each((function(){$(this).text("Unarchive Chat")})),searchUsers(),t.data.conversations.length>0&&(R.append(L),L.addClass("active"),L.show())}},error:function(e){console.log(e)}})}))})()})();