(()=>{"use strict";$(document).ready((function(){$("#roles-table").DataTable({processing:!0,serverSide:!0,order:[[0,"asc"]],ajax:{url:roleUrl},columnDefs:[{targets:[2],orderable:!1,className:"text-center",width:"7%"},{targets:[1],orderable:!1}],columns:[{data:"name",name:"name"},{data:function(e){var t='<div class="d-flex flex-wrap">';return e.permissions.length>0?$.each(e.permissions,(function(e,n){t+='<span class="bg-regent-opacity-3 font-size-3 p-1 mr-4 mb-1 permission-lh">'+n.display_name+"</span>"})):t+='<span class="bg-regent-opacity-3 font-size-3 p-1 mr-4 mb-1 permission-lh">N/A</span>',t+="</div>"},name:"permissions.display_name"},{data:function(e){return e.is_default?"":e.id==AuthUserRoleId?'<button title="Delete" class="index__btn btn btn-ghost-danger btn-sm delete-btn" data-id="'.concat(e.id,'"><i class="cui-trash action-icon"></i></button>'):'<div class="d-flex justify-content-center align-items-center"> <a title="Edit" class="index__btn btn btn-ghost-success btn-sm edit-btn mr-1" href="'.concat(roleUrl+"/"+e.id+"/edit",'">\n                            <i class="cui-pencil action-icon"></i></a>\n                            <button title="Delete" class="index__btn btn btn-ghost-danger btn-sm delete-btn" data-id="').concat(e.id,'"><i class="cui-trash action-icon"></i></button>\n                            <div>\n                            ')},name:"id"}]});var e=Swal.mixin({customClass:{confirmButton:"btn btn-danger mr-2 btn-lg",cancelButton:"btn btn-secondary btn-lg"},buttonsStyling:!1});$(document).on("click",".delete-btn",(function(t){var n=$(this).data("id");e.fire({title:"Are you sure?",html:'Are you sure want to delete this "Role" ?',icon:"warning",showCancelButton:!0,confirmButtonText:"Delete"}).then((function(e){e.value&&$.ajax({url:roleUrl+"/"+n,type:"DELETE",dataType:"json",success:function(e){displayToastr("Success","success","Role deleted successfully."),e.success&&(1==$("#roles-table").DataTable().data().count()?$("#roles-table").DataTable().page("previous").draw("page"):$("#roles-table").DataTable().ajax.reload(null,!1))},error:function(e){displayToastr("Error","error",e.responseJSON.message)}})}))}))}))})();